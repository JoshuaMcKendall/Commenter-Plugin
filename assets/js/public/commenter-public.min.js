!function(e){var t=Commenter_Data.ajax_url,n=JSON.parse(Commenter_Data.discussion),r=e(document),a=e("#commenter-"+n.id),o={objects:["Arguments","Function","String","Number","Date","RegExp","Array","Object","Null","Undefined","Boolean"],set_type_checkers:function(){o.objects.forEach(function(e){o["is_"+e.toLowerCase()]=function(t){return toString.call(t)=="[object "+e+"]"}})},is_url:function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)?/gi);return!!o.is_string(e)&&(""!=e&&!!t.test(e))},is_email:function(e){var t=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);return!!o.is_string(e)&&(""!=e&&!!t.test(e))},html_present:function(e){return new RegExp(/<\/?[a-z][\s\S]*>/i).test(e)},extend:function(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},get_form_data:function(t){var n=e(t).serializeArray(),r={};return o.is_array(n)?(n.forEach(function(e){e.hasOwnProperty("name")&&e.hasOwnProperty("value")&&(r[e.name]=e.value)}),r):null},set_form_data:function(t,n={}){var r=o.get_form_data(t);r=o.extend(r,n);Object.keys(r).forEach(function(n){e(t).find("*[name="+n+"]").val(r[n])})},get_query_string:function(e=null){o.is_null(e)&&(e=location.search);var t=new RegExp("[\\?&].*=[^&#]*"),n=e.match(t);return o.is_null(n[0])?"":n[0].split("?")[1]},get_cookies:function(){var e={};return document.cookie.split("; ").forEach(function(t){var n=new RegExp("([^\\s]*)="),r=t.match(n);t&&o.is_array(r)&&(e[r[1]]=o.get_cookie(r[1]))}),e},get_cookie:function(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+document.cookie).match(t);return e&&o.is_array(n)?unescape(n[1].replace(/\+/g," ")):""},get_url_params:function(e=null,t=null){var n=o.get_query_string(e),r={};if(n){for(var a=n.split("&"),i=0;i<a.length;i++){var s=a[i].split(/=(.+)/),c=s[0].toLowerCase(),_=o.is_undefined(s[1])?"":s[1];if(o.is_string(_)&&(_=_.toLowerCase()),c.match(/\[(\d+)?\]$/)){var d=c.replace(/\[(\d+)?\]/,"");if(r[d]||(r[d]=[]),c.match(/\[\d+\]$/)){var u=/\[(\d+)\]/.exec(c)[1];r[d][u]=_}else r[d].push(_)}else r[c]?r[c]&&o.is_string(r[c])?(r[c]=[r[c]],r[c].push(_)):r[c].push(_):r[c]=_}o.is_string(t)&&r.hasOwnProperty(t)&&(r=r[t])}return r},init:function(){o.set_type_checkers()}},i={id:n.id,identifier:n.identifier,title:n.title,threads:n.threads,sortings:n.sortings,current_sorting:n.current_sorting,current_thread:n.current_thread,current_page:n.current_page,request_time:n.request_time,is_loading:n.is_loading,comments_height:a.height(),commenter_cookies:n.commenter_cookies,utils:o,get_discussion:function(n={},r=function(){}){var s={ajax_load:!1,data:{action:"get_discussion",post_id:i.id,cthread:i.current_thread,cpage:1,csort:i.current_sorting,request_time:i.request_time}},c=(n=o.extend(s,n),o.extend(s.data,n.data));return!i.is_loading&&n.ajax_load&&e.ajax({url:t,data:c,type:"GET",dataType:"json",beforeSend:function(){i.is_loading=!0,a.trigger("commenter:is_loading",[i.is_loading])}}).done(function(e,t){r(e,t,i,n)}).fail(function(e,t){r(e,t,i,n)}).always(function(){i.is_loading=!1,a.trigger("commenter:is_loading",[i.is_loading])}),i},has_thread:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.threads.hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.threads.hasOwnProperty(e))},is_current_thread:function(e){return!!i.has_thread(e)&&(e=i.get_thread(e),i.current_thread===e.slug)},set_thread_page_count:function(e,t=i.current_thread){t=i.get_thread(t);o.is_number(e)&&e>=0&&(t.page_count=e)},get_threads:function(){return i.threads},get_thread:function(n,r={},a=(()=>{})){const{ajax_load:s=!1}=r;if(i.has_thread(n)?(o.is_string(n)?slug=n:(o.is_object(n)||o.is_array(n))&&n.hasOwnProperty("slug")&&(slug=n.slug),n=i.threads.hasOwnProperty(slug)?i.threads[slug]:i.get_current_thread()):n=i.get_current_thread(),!n.is_loaded&&s)e.ajax({url:t,data:{action:"get_thread",post_id:n.id,cthread:n.slug,cpage:n.page,csort:i.current_sorting,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)});else{var c={status:"success",thread:"",current_page:n.current_page,page_count:n.page_count,thread_data:n};a(JSON.stringify(c),null,n,r)}return n},set_current_thread:function(t,n={}){const{ajax_load:r=!0}=n;var o=i.get_current_thread().slug;i.has_thread(t)&&(o=i.get_thread(t,{ajax_load:r},function(t,n,r){if(t.hasOwnProperty("status")&&t.hasOwnProperty("thread")&&"success"===t.status){t.status;var a=t.thread,o=i.threads[r.slug],s=o.identifier;e("#"+s).replaceWith(a),o.is_loaded=!0,i.render_loadmore_button(r.slug)}}).slug),Object.keys(i.threads).forEach(function(e){(e=i.threads[e]).slug===o?e.is_current_thread=!0:e.is_current_thread=!1}),i.current_thread=o,i.current_page=i.get_current_thread().current_page,a.trigger("commenter:set_current_thread",[i.get_current_thread()])},get_current_thread:function(){return i.get_thread(i.current_thread)},switch_threads_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("thread-slug"),r=i.get_thread(n);e("."+n+"-thread");i.has_thread(r)&&i.set_current_thread(r)},change_current_thread:function(t,n){Object.keys(i.threads).forEach(function(t){var r=(t=i.threads[t]).identifier,a="#"+r,o=e("#"+r+"-tab"),s=e(a);t.slug!==n.slug?(o.removeClass("current-tab"),s.removeClass("current-thread")):(o.addClass("current-tab"),s.addClass("current-thread"))})},set_current_page:function(e){var t=i.get_current_thread();o.is_number(e)&&(i.current_page=e,t.current_page=e,i.threads[t.slug].current_page=e)},get_current_page:function(){return i.current_page},get_thread_identifier:function(e={}){const{thread:t=i.get_current_thread()}=e;return i.has_thread(t)?i.get_thread(t).identifier:null==t?i.get_current_thread().identifier:t.hasOwnProperty("identifier")?t.identifier:null},get_sortings:function(){return i.sortings},has_sorting:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.get_sortings().hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.get_sortings().hasOwnProperty(e))},get_sorting:function(e){return i.has_sorting(e)?(o.is_string(e)?slug=e:(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")&&(slug=e.slug),e=i.get_sortings().hasOwnProperty(slug)?i.get_sortings()[slug]:i.get_current_sorting()):e=i.get_current_sorting(),e},get_current_sorting:function(){return i.get_sorting(i.current_sorting)},set_current_sorting:function(e){var t=i.get_current_sorting().slug,n=i.get_sortings();return!!o.is_string(e)&&(t!==e&&(i.has_sorting(e)&&(t=i.get_sorting(e).slug),Object.keys(n).forEach(function(e){(e=n[e]).slug===t?e.is_current_sorting=!0:e.is_current_sorting=!1}),i.current_sorting=t,a.trigger("commenter:set_current_sorting",[i.get_current_sorting()]),i.get_current_sorting()))},sort_discussion:function(t,n){i.get_discussion({ajax_load:!0},function(t,n,r,a){t.hasOwnProperty("status")&&"success"===t.status&&(e("#"+i.identifier).replaceWith(t.discussion),i.render_loadmore_button(i.current_thread),i.threads=t.discussion_data.threads,i.current_page=1)})},sort_by:function(e){return i.set_current_sorting(e)},find_comment:function(t,n=null){var r=".comment",a=null;return(o.is_number(t)||o.is_number(parseInt(t)))&&(isNaN(parseInt(t))||(r+="-"+parseInt(t))),i.has_thread(n)&&(r="."+(n=i.get_thread(n)).slug+"-thread "+r),o.is_string(t)&&!o.is_number(parseInt(t))&&(r="."+t),(t=e(r)).length&&(a=t),a},hide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e(`#${n} .comments-loadmore-container`).addClass("hidden")},unhide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").removeClass("hidden")},remove_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").remove()},render_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .thread-navigation").remove(),i.unhide_loadmore_button(t)},get_comments:function(n=i.get_current_thread(),r={},a=i.set_comments){o.is_string(n)&&i.has_thread(n)?n=i.get_thread(n):(o.is_array(n)||o.is_object(n))&&i.has_thread(n)&&(n=i.get_thread(n));const{post_id:s=i.id,page:c=n.current_page,sorting:_=i.current_sorting}=r;return e.ajax({url:t,data:{action:"get_comments",post_id:s,cthread:n.slug,cpage:c,csort:_,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)}),!1},set_comments:function(e,t=i.get_current_thread(),n={}){var r,a,s;i.has_thread(t)&&(s=(r=t).identifier),o.is_object(n)&&n.hasOwnProperty("page")&&o.is_number(n.page)&&(a=n.page),i.append_comments(e,"#"+s+" > .thread-comments"),i.set_current_page(a),i.current_page==r.page_count&&i.hide_loadmore_button(r.slug)},load_more_comments_handler:function(t){var n=e(t.currentTarget),r=i.current_page+1,a=n.data("thread-slug");n.attr("disabled",!0).addClass("loading"),i.get_comments(a,{page:r},function(e,t,r,a){if(e.hasOwnProperty("status")&&e.hasOwnProperty("comments")&&"success"===e.status){var o=e.comments,s=(e.current_page,e.page_count);r=r;i.set_thread_page_count(s),i.set_comments(o,r,a),n.attr("disabled",!1).removeClass("loading")}})},append_comments:function(t,n="."+i.current_thread+"-thread"){e(n).append(t)},switch_sortings_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("sorting-slug");i.set_current_sorting(n)},do_action:function(n={},r=function(){}){var a={method:"GET",data:{action:"do_action",post_id:i.id,caction:null,cid:0,cpage:i.current_page,cthread:i.current_thread,csort:i.current_sorting,request_time:i.request_time}},s=(n=o.extend(a,n),o.extend(a.data,n.data));e.ajax({url:t,data:s,type:n.method,dataType:"json"}).done(function(e,t){r(e,t,n)}).fail(function(e,t){r(e,t,n)})},post_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).attr("id"),r=o.get_form_data("#"+n),a="#"+n+" .notices-container",s={method:"POST",data:r};i.disable_comment_forms(),i.post_comment(s,function(t,n,o){t.hasOwnProperty("status")&&"success"==t.status?(t.hasOwnProperty("comment")&&e(".comments-area").prepend(e(t.comment).addClass("new-comment")),"reply"==r.caction&&i.reset_comment_form(),i.clear_comment_form()):t.hasOwnProperty("status")&&"error"==t.status&&i.set_notice(t.message,t.status,a),i.enable_comment_forms()})},post_comment:function(e={},t=function(){}){e=o.extend({method:"POST",data:{}},e);i.do_action(e,t)},like_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.like_comment(n,function(e,t,n){e.hasOwnProperty("status")&&e.status})},unlike_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.data("comment-id");n.addClass("loading"),n.find(".animated-heart").removeClass("activated"),n.addClass("like-action-link").removeClass("unlike-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("unlike-btn").addClass("like-btn"),a.trigger("commenter:unlike_comment"),i.decrement_like_count(r)},flag_comment:function(){},unflag_comment:function(){},like_comment:function(t,n=function(){}){t=o.is_number(t)?t:0;var r=i.find_comment(t,i.current_thread),s=".like-comment-"+t,c=e(r).find(s),_=e(s);Object.keys(_).forEach(function(t){var n=e(_[t]);n.addClass("loading"),n.children(".animated-heart").addClass("activated").on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(t){e(this).removeClass("activated")}),n.addClass("unlike-action-link").removeClass("like-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("like-btn").addClass("unlike-btn"),a.trigger("commenter:like_comment")});var d={method:"GET",data:o.get_url_params(c.attr("href"))};i.increment_like_count(t),i.do_action(d,n)},unlike_comment:function(e,t=function(){}){},get_permalink:function(e){return!1},get_comment_form:function(t=i.current_thread){if(!o.is_string(t)||!i.has_thread(t))return!1;var n=i.get_thread(t).slug,r=i.id,a=e("#"+n+"-comment-form-container-"+r);return a.length?a:null},disable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.disable_comment_form(e)})},disable_comment_form:function(t=i.current_thread){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!0),n.find(".form-cancel-link").css("pointer-events","none"),n.find(".form-cancel-link").addClass("loading")},enable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.enable_comment_form(e)})},enable_comment_form:function(t=null){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!1),n.find(".form-cancel-link").css("pointer-events","auto"),n.find(".form-cancel-link").removeClass("loading")},clear_comment_form:function(t=!1){var n=e(i.get_comment_form());n.find(".commenter-comment-form-textarea").val(""),n.find(".notices-container").html(""),o.is_boolean(t)&&t&&(n.find("input.author").val(""),n.find("input.email").val(""),n.find("input.url").val(""),n.find(".toggle-checkbox").prop("checked")&&n.find(".toggle-checkbox").prop("checked",!1))},reset_comment_form:function(){var t=e(i.get_comment_form()),n=i.get_current_thread(),r="#"+i.current_thread+"-comment-form-"+i.id;o.set_form_data(r,{cid:0,caction:"comment"}),t.prependTo("#"+n.identifier),t.find(".citation .has-parent > a.parent-comment-link").attr("href","#no-parent"),t.find(".citation .has-parent > a.parent-comment-link").text(""),t.find(".citation .has-parent").addClass("hidden"),i.clear_comment_form()},set_reply_comment_form:function(t,n={}){var r=e(i.get_comment_form()),a=e(i.find_comment(t,i.current_thread)),s=a.find(".comment-body").eq(0),c=a.data("comment-data"),_=i.current_thread+"-"+c.identifier,d="#"+i.current_thread+"-comment-form-"+i.id;return!o.is_null(r)&&(!o.is_null(a)&&(o.set_form_data(d,{cid:c.id,caction:"reply"}),r.find(".form-cancel-link").removeClass("hidden"),r.find(".citation .has-parent > a.parent-comment-link").attr("href","#"+_),r.find(".citation .has-parent > a.parent-comment-link").text(c.author),r.find(".citation .has-parent").removeClass("hidden"),r.insertAfter(s),void r.find(".commenter-comment-form-textarea").focus()))},set_reply_form_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.set_reply_comment_form(n)},reset_comment_form_handler:function(t){t.preventDefault(),e(t.currentTarget).addClass("hidden"),i.reset_comment_form()},get_comment_like_count:function(e){var t;e=i.find_comment(e);return o.is_null(e)?null:(t=parseInt(e.find(".like-count").eq(0).text(),10),!o.is_number(t)||isNaN(t)||o.is_null(t)?0:t)},set_comment_like_count:function(t,n){n=parseInt(n,10);var r=e(".like-comment-"+t);if(!o.is_object(r))return null;Object.keys(r).forEach(function(t){var a=e(r[t]).prev(".like-count");o.is_number(n)&&n>0?a.text(`${n}`):a.text("")})},increment_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);t=parseInt(t,10);return o.is_number(t)&&t>0&&(n+=t),i.set_comment_like_count(e,n),n},decrement_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);t=parseInt(t,10);return o.is_number(t)&&t>0&&(n-=t),i.set_comment_like_count(e,n),n},menu_handler:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.currentTarget).find(".menu");n.hasClass("open")?n.removeClass("open"):n.addClass("open")},set_loader:function(e,t){t?(a.hasClass("loading")&&a.addClass("loading"),a.fadeTo(.3,.6),a.find(".discussion-loading-container").removeClass("hidden")):(a.hasClass("loading")&&a.removeClass("loading"),a.fadeTo(.3,1),a.find(".discussion-loading-container").addClass("hidden"))},open_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")||t.addClass("open")},close_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")&&t.removeClass("open")},set_notice:function(t,n="default",r=".discussion-notices",a={}){var i=e(r),s="";return!!i.length&&(o.html_present(t)||e(t).hasClass("commenter-notice")?s=t:(["error","success","default","warning"].includes(n)?(s+='<div class="commenter-notice ajax alert '+n+" alert-"+{error:"danger",success:"success",default:"default",warning:"warning"}[n]+'">',s+='<div class="commenter-notice-'+n+'">'+t+"</div>"):(s+='<div class="commenter-notice ajax alert error">',s+='<div class="commenter-notice-error">'+t+"</div>"),s+="</div>"),i.html(s).css("display","none").slideDown("fast"),!0)},init:function(){i.render_loadmore_button(),r.on("click",i.close_menus),a.on("click",".comments-loadmore:not(.loading)",i.load_more_comments_handler),a.on("click","a.like-action-link:not(.loading)",i.like_comment_handler),a.on("click","a.unlike-action-link:not(.loading)",i.unlike_comment_handler),a.on("click",".thread-tabs .tab > a.tab-link",i.switch_threads_handler),a.on("click",".discussion-sortings a.sorting-link",i.switch_sortings_handler),a.on("click",".comment-reply-link",i.set_reply_form_handler),a.on("click",".form-cancel-link:not(.loading)",i.reset_comment_form_handler),a.on("click",".mini-dropdown",i.menu_handler),a.on("submit",".comment-form",i.post_comment_handler),a.on("commenter:set_current_thread",i.change_current_thread),a.on("commenter:set_current_sorting",i.sort_discussion),a.on("commenter:is_loading",i.set_loader)}};r.ready(function(){o.init(),i.init()}),window.Commenter=i}(jQuery),function(e){var t=Commenter_Data.ajax_url,n=JSON.parse(Commenter_Data.discussion),r=e(document),a=e("#commenter-"+n.id),o={objects:["Arguments","Function","String","Number","Date","RegExp","Array","Object","Null","Undefined","Boolean"],set_type_checkers:function(){o.objects.forEach(function(e){o["is_"+e.toLowerCase()]=function(t){return toString.call(t)=="[object "+e+"]"}})},is_url:function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)?/gi);return!!o.is_string(e)&&""!=e&&!!t.test(e)},is_email:function(e){var t=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);return!!o.is_string(e)&&""!=e&&!!t.test(e)},html_present:function(e){return new RegExp(/<\/?[a-z][\s\S]*>/i).test(e)},extend:function(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},get_form_data:function(t){var n=e(t).serializeArray(),r={};return o.is_array(n)?(n.forEach(function(e){e.hasOwnProperty("name")&&e.hasOwnProperty("value")&&(r[e.name]=e.value)}),r):null},set_form_data:function(t,n={}){var r=o.get_form_data(t);r=o.extend(r,n),Object.keys(r).forEach(function(n){e(t).find("*[name="+n+"]").val(r[n])})},get_query_string:function(e=null){o.is_null(e)&&(e=location.search);var t=new RegExp("[\\?&].*=[^&#]*"),n=e.match(t);return o.is_null(n[0])?"":n[0].split("?")[1]},get_cookies:function(){var e={};return document.cookie.split("; ").forEach(function(t){var n=new RegExp("([^\\s]*)="),r=t.match(n);t&&o.is_array(r)&&(e[r[1]]=o.get_cookie(r[1]))}),e},get_cookie:function(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+document.cookie).match(t);return e&&o.is_array(n)?unescape(n[1].replace(/\+/g," ")):""},get_url_params:function(e=null,t=null){var n=o.get_query_string(e),r={};if(n){for(var a=n.split("&"),i=0;i<a.length;i++){var s=a[i].split(/=(.+)/),c=s[0].toLowerCase(),_=o.is_undefined(s[1])?"":s[1];if(o.is_string(_)&&(_=_.toLowerCase()),c.match(/\[(\d+)?\]$/)){var d=c.replace(/\[(\d+)?\]/,"");if(r[d]||(r[d]=[]),c.match(/\[\d+\]$/)){var u=/\[(\d+)\]/.exec(c)[1];r[d][u]=_}else r[d].push(_)}else r[c]?r[c]&&o.is_string(r[c])?(r[c]=[r[c]],r[c].push(_)):r[c].push(_):r[c]=_}o.is_string(t)&&r.hasOwnProperty(t)&&(r=r[t])}return r},init:function(){o.set_type_checkers()}},i={id:n.id,identifier:n.identifier,title:n.title,threads:n.threads,sortings:n.sortings,current_sorting:n.current_sorting,current_thread:n.current_thread,current_page:n.current_page,request_time:n.request_time,is_loading:n.is_loading,comments_height:a.height(),commenter_cookies:n.commenter_cookies,utils:o,get_discussion:function(n={},r=function(){}){var s={ajax_load:!1,data:{action:"get_discussion",post_id:i.id,cthread:i.current_thread,cpage:1,csort:i.current_sorting,request_time:i.request_time}},c=(n=o.extend(s,n),o.extend(s.data,n.data));return!i.is_loading&&n.ajax_load&&e.ajax({url:t,data:c,type:"GET",dataType:"json",beforeSend:function(){i.is_loading=!0,a.trigger("commenter:is_loading",[i.is_loading])}}).done(function(e,t){r(e,t,i,n)}).fail(function(e,t){r(e,t,i,n)}).always(function(){i.is_loading=!1,a.trigger("commenter:is_loading",[i.is_loading])}),i},has_thread:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.threads.hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.threads.hasOwnProperty(e))},is_current_thread:function(e){return!!i.has_thread(e)&&(e=i.get_thread(e),i.current_thread===e.slug)},set_thread_page_count:function(e,t=i.current_thread){t=i.get_thread(t),o.is_number(e)&&e>=0&&(t.page_count=e)},get_threads:function(){return i.threads},get_thread:function(n,r={},a=(()=>{})){const{ajax_load:s=!1}=r;if(i.has_thread(n)?(o.is_string(n)?slug=n:(o.is_object(n)||o.is_array(n))&&n.hasOwnProperty("slug")&&(slug=n.slug),n=i.threads.hasOwnProperty(slug)?i.threads[slug]:i.get_current_thread()):n=i.get_current_thread(),!n.is_loaded&&s)e.ajax({url:t,data:{action:"get_thread",post_id:n.id,cthread:n.slug,cpage:n.page,csort:i.current_sorting,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)});else{var c={status:"success",thread:"",current_page:n.current_page,page_count:n.page_count,thread_data:n};a(JSON.stringify(c),null,n,r)}return n},set_current_thread:function(t,n={}){const{ajax_load:r=!0}=n;var o=i.get_current_thread().slug;i.has_thread(t)&&(o=i.get_thread(t,{ajax_load:r},function(t,n,r){if(t.hasOwnProperty("status")&&t.hasOwnProperty("thread")&&"success"===t.status){t.status;var a=t.thread,o=i.threads[r.slug],s=o.identifier;e("#"+s).replaceWith(a),o.is_loaded=!0,i.render_loadmore_button(r.slug)}}).slug),Object.keys(i.threads).forEach(function(e){(e=i.threads[e]).slug===o?e.is_current_thread=!0:e.is_current_thread=!1}),i.current_thread=o,i.current_page=i.get_current_thread().current_page,a.trigger("commenter:set_current_thread",[i.get_current_thread()])},get_current_thread:function(){return i.get_thread(i.current_thread)},switch_threads_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("thread-slug"),r=i.get_thread(n);e("."+n+"-thread"),i.has_thread(r)&&i.set_current_thread(r)},change_current_thread:function(t,n){Object.keys(i.threads).forEach(function(t){var r=(t=i.threads[t]).identifier,a="#"+r,o=e("#"+r+"-tab"),s=e(a);t.slug!==n.slug?(o.removeClass("current-tab"),s.removeClass("current-thread")):(o.addClass("current-tab"),s.addClass("current-thread"))})},set_current_page:function(e){var t=i.get_current_thread();o.is_number(e)&&(i.current_page=e,t.current_page=e,i.threads[t.slug].current_page=e)},get_current_page:function(){return i.current_page},get_thread_identifier:function(e={}){const{thread:t=i.get_current_thread()}=e;return i.has_thread(t)?i.get_thread(t).identifier:null==t?i.get_current_thread().identifier:t.hasOwnProperty("identifier")?t.identifier:null},get_sortings:function(){return i.sortings},has_sorting:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.get_sortings().hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.get_sortings().hasOwnProperty(e))},get_sorting:function(e){return i.has_sorting(e)?(o.is_string(e)?slug=e:(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")&&(slug=e.slug),e=i.get_sortings().hasOwnProperty(slug)?i.get_sortings()[slug]:i.get_current_sorting()):e=i.get_current_sorting(),e},get_current_sorting:function(){return i.get_sorting(i.current_sorting)},set_current_sorting:function(e){var t=i.get_current_sorting().slug,n=i.get_sortings();return!!o.is_string(e)&&t!==e&&(i.has_sorting(e)&&(t=i.get_sorting(e).slug),Object.keys(n).forEach(function(e){(e=n[e]).slug===t?e.is_current_sorting=!0:e.is_current_sorting=!1}),i.current_sorting=t,a.trigger("commenter:set_current_sorting",[i.get_current_sorting()]),i.get_current_sorting())},sort_discussion:function(t,n){i.get_discussion({ajax_load:!0},function(t,n,r,a){t.hasOwnProperty("status")&&"success"===t.status&&(e("#"+i.identifier).replaceWith(t.discussion),i.render_loadmore_button(i.current_thread),i.threads=t.discussion_data.threads,i.current_page=1)})},sort_by:function(e){return i.set_current_sorting(e)},find_comment:function(t,n=null){var r=".comment",a=null;return(o.is_number(t)||o.is_number(parseInt(t)))&&(isNaN(parseInt(t))||(r+="-"+parseInt(t))),i.has_thread(n)&&(r="."+(n=i.get_thread(n)).slug+"-thread "+r),o.is_string(t)&&!o.is_number(parseInt(t))&&(r="."+t),(t=e(r)).length&&(a=t),a},hide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e(`#${n} .comments-loadmore-container`).addClass("hidden")},unhide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").removeClass("hidden")},remove_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").remove()},render_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .thread-navigation").remove(),i.unhide_loadmore_button(t)},get_comments:function(n=i.get_current_thread(),r={},a=i.set_comments){o.is_string(n)&&i.has_thread(n)?n=i.get_thread(n):(o.is_array(n)||o.is_object(n))&&i.has_thread(n)&&(n=i.get_thread(n));const{post_id:s=i.id,page:c=n.current_page,sorting:_=i.current_sorting}=r;return e.ajax({url:t,data:{action:"get_comments",post_id:s,cthread:n.slug,cpage:c,csort:_,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)}),!1},set_comments:function(e,t=i.get_current_thread(),n={}){var r,a,s;i.has_thread(t)&&(s=(r=t).identifier),o.is_object(n)&&n.hasOwnProperty("page")&&o.is_number(n.page)&&(a=n.page),i.append_comments(e,"#"+s+" > .thread-comments"),i.set_current_page(a),i.current_page==r.page_count&&i.hide_loadmore_button(r.slug)},load_more_comments_handler:function(t){var n=e(t.currentTarget),r=i.current_page+1,a=n.data("thread-slug");n.attr("disabled",!0).addClass("loading"),i.get_comments(a,{page:r},function(e,t,r,a){if(e.hasOwnProperty("status")&&e.hasOwnProperty("comments")&&"success"===e.status){var o=e.comments,s=(e.current_page,e.page_count);r=r,i.set_thread_page_count(s),i.set_comments(o,r,a),n.attr("disabled",!1).removeClass("loading")}})},append_comments:function(t,n="."+i.current_thread+"-thread"){e(n).append(t)},switch_sortings_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("sorting-slug");i.set_current_sorting(n)},do_action:function(n={},r=function(){}){var a={method:"GET",data:{action:"do_action",post_id:i.id,caction:null,cid:0,cpage:i.current_page,cthread:i.current_thread,csort:i.current_sorting,request_time:i.request_time}},s=(n=o.extend(a,n),o.extend(a.data,n.data));e.ajax({url:t,data:s,type:n.method,dataType:"json"}).done(function(e,t){r(e,t,n)}).fail(function(e,t){r(e,t,n)})},post_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).attr("id"),r=o.get_form_data("#"+n),a="#"+n+" .notices-container",s={method:"POST",data:r};i.disable_comment_forms(),i.post_comment(s,function(t,n,o){t.hasOwnProperty("status")&&"success"==t.status?(t.hasOwnProperty("comment")&&e(".comments-area").prepend(e(t.comment).addClass("new-comment")),"reply"==r.caction&&i.reset_comment_form(),i.clear_comment_form()):t.hasOwnProperty("status")&&"error"==t.status&&i.set_notice(t.message,t.status,a),i.enable_comment_forms()})},post_comment:function(e={},t=function(){}){e=o.extend({method:"POST",data:{}},e),i.do_action(e,t)},like_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.like_comment(n,function(e,t,n){e.hasOwnProperty("status")&&e.status})},unlike_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.data("comment-id");n.addClass("loading"),n.find(".animated-heart").removeClass("activated"),n.addClass("like-action-link").removeClass("unlike-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("unlike-btn").addClass("like-btn"),a.trigger("commenter:unlike_comment"),i.decrement_like_count(r)},flag_comment:function(){},unflag_comment:function(){},like_comment:function(t,n=function(){}){t=o.is_number(t)?t:0;var r=i.find_comment(t,i.current_thread),s=".like-comment-"+t,c=e(r).find(s),_=e(s);Object.keys(_).forEach(function(t){var n=e(_[t]);n.addClass("loading"),n.children(".animated-heart").addClass("activated").on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(t){e(this).removeClass("activated")}),n.addClass("unlike-action-link").removeClass("like-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("like-btn").addClass("unlike-btn"),a.trigger("commenter:like_comment")});var d={method:"GET",data:o.get_url_params(c.attr("href"))};i.increment_like_count(t),i.do_action(d,n)},unlike_comment:function(e,t=function(){}){},get_permalink:function(e){return!1},get_comment_form:function(t=i.current_thread){if(!o.is_string(t)||!i.has_thread(t))return!1;var n=i.get_thread(t).slug,r=i.id,a=e("#"+n+"-comment-form-container-"+r);return a.length?a:null},disable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.disable_comment_form(e)})},disable_comment_form:function(t=i.current_thread){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!0),n.find(".form-cancel-link").css("pointer-events","none"),n.find(".form-cancel-link").addClass("loading")},enable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.enable_comment_form(e)})},enable_comment_form:function(t=null){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!1),n.find(".form-cancel-link").css("pointer-events","auto"),n.find(".form-cancel-link").removeClass("loading")},clear_comment_form:function(t=!1){var n=e(i.get_comment_form());n.find(".commenter-comment-form-textarea").val(""),n.find(".notices-container").html(""),o.is_boolean(t)&&t&&(n.find("input.author").val(""),n.find("input.email").val(""),n.find("input.url").val(""),n.find(".toggle-checkbox").prop("checked")&&n.find(".toggle-checkbox").prop("checked",!1))},reset_comment_form:function(){var t=e(i.get_comment_form()),n=i.get_current_thread(),r="#"+i.current_thread+"-comment-form-"+i.id;o.set_form_data(r,{cid:0,caction:"comment"}),t.prependTo("#"+n.identifier),t.find(".citation .has-parent > a.parent-comment-link").attr("href","#no-parent"),t.find(".citation .has-parent > a.parent-comment-link").text(""),t.find(".citation .has-parent").addClass("hidden"),i.clear_comment_form()},set_reply_comment_form:function(t,n={}){var r=e(i.get_comment_form()),a=e(i.find_comment(t,i.current_thread)),s=a.find(".comment-body").eq(0),c=a.data("comment-data"),_=i.current_thread+"-"+c.identifier,d="#"+i.current_thread+"-comment-form-"+i.id;return!o.is_null(r)&&!o.is_null(a)&&(o.set_form_data(d,{cid:c.id,caction:"reply"}),r.find(".form-cancel-link").removeClass("hidden"),r.find(".citation .has-parent > a.parent-comment-link").attr("href","#"+_),r.find(".citation .has-parent > a.parent-comment-link").text(c.author),r.find(".citation .has-parent").removeClass("hidden"),r.insertAfter(s),void r.find(".commenter-comment-form-textarea").focus())},set_reply_form_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.set_reply_comment_form(n)},reset_comment_form_handler:function(t){t.preventDefault(),e(t.currentTarget).addClass("hidden"),i.reset_comment_form()},get_comment_like_count:function(e){var t;return e=i.find_comment(e),o.is_null(e)?null:(t=parseInt(e.find(".like-count").eq(0).text(),10),!o.is_number(t)||isNaN(t)||o.is_null(t)?0:t)},set_comment_like_count:function(t,n){n=parseInt(n,10);var r=e(".like-comment-"+t);if(!o.is_object(r))return null;Object.keys(r).forEach(function(t){var a=e(r[t]).prev(".like-count");o.is_number(n)&&n>0?a.text(`${n}`):a.text("")})},increment_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n+=t),i.set_comment_like_count(e,n),n},decrement_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n-=t),i.set_comment_like_count(e,n),n},menu_handler:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.currentTarget).find(".menu");n.hasClass("open")?n.removeClass("open"):n.addClass("open")},set_loader:function(e,t){t?(a.hasClass("loading")&&a.addClass("loading"),a.fadeTo(.3,.6),a.find(".discussion-loading-container").removeClass("hidden")):(a.hasClass("loading")&&a.removeClass("loading"),a.fadeTo(.3,1),a.find(".discussion-loading-container").addClass("hidden"))},open_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")||t.addClass("open")},close_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")&&t.removeClass("open")},set_notice:function(t,n="default",r=".discussion-notices",a={}){var i=e(r),s="";return!!i.length&&(o.html_present(t)||e(t).hasClass("commenter-notice")?s=t:(["error","success","default","warning"].includes(n)?(s+='<div class="commenter-notice ajax alert '+n+" alert-"+{error:"danger",success:"success",default:"default",warning:"warning"}[n]+'">',s+='<div class="commenter-notice-'+n+'">'+t+"</div>"):(s+='<div class="commenter-notice ajax alert error">',s+='<div class="commenter-notice-error">'+t+"</div>"),s+="</div>"),i.html(s).css("display","none").slideDown("fast"),!0)},init:function(){i.render_loadmore_button(),r.on("click",i.close_menus),a.on("click",".comments-loadmore:not(.loading)",i.load_more_comments_handler),a.on("click","a.like-action-link:not(.loading)",i.like_comment_handler),a.on("click","a.unlike-action-link:not(.loading)",i.unlike_comment_handler),a.on("click",".thread-tabs .tab > a.tab-link",i.switch_threads_handler),a.on("click",".discussion-sortings a.sorting-link",i.switch_sortings_handler),a.on("click",".comment-reply-link",i.set_reply_form_handler),a.on("click",".form-cancel-link:not(.loading)",i.reset_comment_form_handler),a.on("click",".mini-dropdown",i.menu_handler),a.on("submit",".comment-form",i.post_comment_handler),a.on("commenter:set_current_thread",i.change_current_thread),a.on("commenter:set_current_sorting",i.sort_discussion),a.on("commenter:is_loading",i.set_loader)}};r.ready(function(){o.init(),i.init()}),window.Commenter=i}(jQuery),function(e){var t=Commenter_Data.ajax_url,n=JSON.parse(Commenter_Data.discussion),r=e(document),a=e("#commenter-"+n.id),o={objects:["Arguments","Function","String","Number","Date","RegExp","Array","Object","Null","Undefined","Boolean"],set_type_checkers:function(){o.objects.forEach(function(e){o["is_"+e.toLowerCase()]=function(t){return toString.call(t)=="[object "+e+"]"}})},is_url:function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)?/gi);return!!o.is_string(e)&&""!=e&&!!t.test(e)},is_email:function(e){var t=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);return!!o.is_string(e)&&""!=e&&!!t.test(e)},html_present:function(e){return new RegExp(/<\/?[a-z][\s\S]*>/i).test(e)},extend:function(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},get_form_data:function(t){var n=e(t).serializeArray(),r={};return o.is_array(n)?(n.forEach(function(e){e.hasOwnProperty("name")&&e.hasOwnProperty("value")&&(r[e.name]=e.value)}),r):null},set_form_data:function(t,n={}){var r=o.get_form_data(t);r=o.extend(r,n),Object.keys(r).forEach(function(n){e(t).find("*[name="+n+"]").val(r[n])})},get_query_string:function(e=null){o.is_null(e)&&(e=location.search);var t=new RegExp("[\\?&].*=[^&#]*"),n=e.match(t);return o.is_null(n[0])?"":n[0].split("?")[1]},get_cookies:function(){var e={};return document.cookie.split("; ").forEach(function(t){var n=new RegExp("([^\\s]*)="),r=t.match(n);t&&o.is_array(r)&&(e[r[1]]=o.get_cookie(r[1]))}),e},get_cookie:function(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+document.cookie).match(t);return e&&o.is_array(n)?unescape(n[1].replace(/\+/g," ")):""},get_url_params:function(e=null,t=null){var n=o.get_query_string(e),r={};if(n){for(var a=n.split("&"),i=0;i<a.length;i++){var s=a[i].split(/=(.+)/),c=s[0].toLowerCase(),_=o.is_undefined(s[1])?"":s[1];if(o.is_string(_)&&(_=_.toLowerCase()),c.match(/\[(\d+)?\]$/)){var d=c.replace(/\[(\d+)?\]/,"");if(r[d]||(r[d]=[]),c.match(/\[\d+\]$/)){var u=/\[(\d+)\]/.exec(c)[1];r[d][u]=_}else r[d].push(_)}else r[c]?r[c]&&o.is_string(r[c])?(r[c]=[r[c]],r[c].push(_)):r[c].push(_):r[c]=_}o.is_string(t)&&r.hasOwnProperty(t)&&(r=r[t])}return r},init:function(){o.set_type_checkers()}},i={id:n.id,identifier:n.identifier,title:n.title,threads:n.threads,sortings:n.sortings,current_sorting:n.current_sorting,current_thread:n.current_thread,current_page:n.current_page,request_time:n.request_time,is_loading:n.is_loading,comments_height:a.height(),commenter_cookies:n.commenter_cookies,utils:o,get_discussion:function(n={},r=function(){}){var s={ajax_load:!1,data:{action:"get_discussion",post_id:i.id,cthread:i.current_thread,cpage:1,csort:i.current_sorting,request_time:i.request_time}},c=(n=o.extend(s,n),o.extend(s.data,n.data));return!i.is_loading&&n.ajax_load&&e.ajax({url:t,data:c,type:"GET",dataType:"json",beforeSend:function(){i.is_loading=!0,a.trigger("commenter:is_loading",[i.is_loading])}}).done(function(e,t){r(e,t,i,n)}).fail(function(e,t){r(e,t,i,n)}).always(function(){i.is_loading=!1,a.trigger("commenter:is_loading",[i.is_loading])}),i},has_thread:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.threads.hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.threads.hasOwnProperty(e))},is_current_thread:function(e){return!!i.has_thread(e)&&(e=i.get_thread(e),i.current_thread===e.slug)},set_thread_page_count:function(e,t=i.current_thread){t=i.get_thread(t),o.is_number(e)&&e>=0&&(t.page_count=e)},get_threads:function(){return i.threads},get_thread:function(n,r={},a=(()=>{})){const{ajax_load:s=!1}=r;if(i.has_thread(n)?(o.is_string(n)?slug=n:(o.is_object(n)||o.is_array(n))&&n.hasOwnProperty("slug")&&(slug=n.slug),n=i.threads.hasOwnProperty(slug)?i.threads[slug]:i.get_current_thread()):n=i.get_current_thread(),!n.is_loaded&&s)e.ajax({url:t,data:{action:"get_thread",post_id:n.id,cthread:n.slug,cpage:n.page,csort:i.current_sorting,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)});else{var c={status:"success",thread:"",current_page:n.current_page,page_count:n.page_count,thread_data:n};a(JSON.stringify(c),null,n,r)}return n},set_current_thread:function(t,n={}){const{ajax_load:r=!0}=n;var o=i.get_current_thread().slug;i.has_thread(t)&&(o=i.get_thread(t,{ajax_load:r},function(t,n,r){if(t.hasOwnProperty("status")&&t.hasOwnProperty("thread")&&"success"===t.status){t.status;var a=t.thread,o=i.threads[r.slug],s=o.identifier;e("#"+s).replaceWith(a),o.is_loaded=!0,i.render_loadmore_button(r.slug)}}).slug),Object.keys(i.threads).forEach(function(e){(e=i.threads[e]).slug===o?e.is_current_thread=!0:e.is_current_thread=!1}),i.current_thread=o,i.current_page=i.get_current_thread().current_page,a.trigger("commenter:set_current_thread",[i.get_current_thread()])},get_current_thread:function(){return i.get_thread(i.current_thread)},switch_threads_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("thread-slug"),r=i.get_thread(n);e("."+n+"-thread"),i.has_thread(r)&&i.set_current_thread(r)},change_current_thread:function(t,n){Object.keys(i.threads).forEach(function(t){var r=(t=i.threads[t]).identifier,a="#"+r,o=e("#"+r+"-tab"),s=e(a);t.slug!==n.slug?(o.removeClass("current-tab"),s.removeClass("current-thread")):(o.addClass("current-tab"),s.addClass("current-thread"))})},set_current_page:function(e){var t=i.get_current_thread();o.is_number(e)&&(i.current_page=e,t.current_page=e,i.threads[t.slug].current_page=e)},get_current_page:function(){return i.current_page},get_thread_identifier:function(e={}){const{thread:t=i.get_current_thread()}=e;return i.has_thread(t)?i.get_thread(t).identifier:null==t?i.get_current_thread().identifier:t.hasOwnProperty("identifier")?t.identifier:null},get_sortings:function(){return i.sortings},has_sorting:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.get_sortings().hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.get_sortings().hasOwnProperty(e))},get_sorting:function(e){return i.has_sorting(e)?(o.is_string(e)?slug=e:(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")&&(slug=e.slug),e=i.get_sortings().hasOwnProperty(slug)?i.get_sortings()[slug]:i.get_current_sorting()):e=i.get_current_sorting(),e},get_current_sorting:function(){return i.get_sorting(i.current_sorting)},set_current_sorting:function(e){var t=i.get_current_sorting().slug,n=i.get_sortings();return!!o.is_string(e)&&t!==e&&(i.has_sorting(e)&&(t=i.get_sorting(e).slug),Object.keys(n).forEach(function(e){(e=n[e]).slug===t?e.is_current_sorting=!0:e.is_current_sorting=!1}),i.current_sorting=t,a.trigger("commenter:set_current_sorting",[i.get_current_sorting()]),i.get_current_sorting())},sort_discussion:function(t,n){i.get_discussion({ajax_load:!0},function(t,n,r,a){t.hasOwnProperty("status")&&"success"===t.status&&(e("#"+i.identifier).replaceWith(t.discussion),i.render_loadmore_button(i.current_thread),i.threads=t.discussion_data.threads,i.current_page=1)})},sort_by:function(e){return i.set_current_sorting(e)},find_comment:function(t,n=null){var r=".comment",a=null;return(o.is_number(t)||o.is_number(parseInt(t)))&&(isNaN(parseInt(t))||(r+="-"+parseInt(t))),i.has_thread(n)&&(r="."+(n=i.get_thread(n)).slug+"-thread "+r),o.is_string(t)&&!o.is_number(parseInt(t))&&(r="."+t),(t=e(r)).length&&(a=t),a},hide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e(`#${n} .comments-loadmore-container`).addClass("hidden")},unhide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").removeClass("hidden")},remove_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").remove()},render_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .thread-navigation").remove(),i.unhide_loadmore_button(t)},get_comments:function(n=i.get_current_thread(),r={},a=i.set_comments){o.is_string(n)&&i.has_thread(n)?n=i.get_thread(n):(o.is_array(n)||o.is_object(n))&&i.has_thread(n)&&(n=i.get_thread(n));const{post_id:s=i.id,page:c=n.current_page,sorting:_=i.current_sorting}=r;return e.ajax({url:t,data:{action:"get_comments",post_id:s,cthread:n.slug,cpage:c,csort:_,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)}),!1},set_comments:function(e,t=i.get_current_thread(),n={}){var r,a,s;i.has_thread(t)&&(s=(r=t).identifier),o.is_object(n)&&n.hasOwnProperty("page")&&o.is_number(n.page)&&(a=n.page),i.append_comments(e,"#"+s+" > .thread-comments"),i.set_current_page(a),i.current_page==r.page_count&&i.hide_loadmore_button(r.slug)},load_more_comments_handler:function(t){var n=e(t.currentTarget),r=i.current_page+1,a=n.data("thread-slug");n.attr("disabled",!0).addClass("loading"),i.get_comments(a,{page:r},function(e,t,r,a){if(e.hasOwnProperty("status")&&e.hasOwnProperty("comments")&&"success"===e.status){var o=e.comments,s=(e.current_page,e.page_count);r=r,i.set_thread_page_count(s),i.set_comments(o,r,a),n.attr("disabled",!1).removeClass("loading")}})},append_comments:function(t,n="."+i.current_thread+"-thread"){e(n).append(t)},switch_sortings_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("sorting-slug");i.set_current_sorting(n)},do_action:function(n={},r=function(){}){var a={method:"GET",data:{action:"do_action",post_id:i.id,caction:null,cid:0,cpage:i.current_page,cthread:i.current_thread,csort:i.current_sorting,request_time:i.request_time}},s=(n=o.extend(a,n),o.extend(a.data,n.data));e.ajax({url:t,data:s,type:n.method,dataType:"json"}).done(function(e,t){r(e,t,n)}).fail(function(e,t){r(e,t,n)})},post_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).attr("id"),r=o.get_form_data("#"+n),a="#"+n+" .notices-container",s={method:"POST",data:r};i.disable_comment_forms(),i.post_comment(s,function(t,n,o){t.hasOwnProperty("status")&&"success"==t.status?(t.hasOwnProperty("comment")&&e(".comments-area").prepend(e(t.comment).addClass("new-comment")),"reply"==r.caction&&i.reset_comment_form(),i.clear_comment_form()):t.hasOwnProperty("status")&&"error"==t.status&&i.set_notice(t.message,t.status,a),i.enable_comment_forms()})},post_comment:function(e={},t=function(){}){e=o.extend({method:"POST",data:{}},e),i.do_action(e,t)},like_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.like_comment(n,function(e,t,n){e.hasOwnProperty("status")&&e.status})},unlike_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.data("comment-id");n.addClass("loading"),n.find(".animated-heart").removeClass("activated"),n.addClass("like-action-link").removeClass("unlike-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("unlike-btn").addClass("like-btn"),a.trigger("commenter:unlike_comment"),i.decrement_like_count(r)},flag_comment:function(){},unflag_comment:function(){},like_comment:function(t,n=function(){}){t=o.is_number(t)?t:0;var r=i.find_comment(t,i.current_thread),s=".like-comment-"+t,c=e(r).find(s),_=e(s);Object.keys(_).forEach(function(t){var n=e(_[t]);n.addClass("loading"),n.children(".animated-heart").addClass("activated").on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(t){e(this).removeClass("activated")}),n.addClass("unlike-action-link").removeClass("like-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("like-btn").addClass("unlike-btn"),a.trigger("commenter:like_comment")});var d={method:"GET",data:o.get_url_params(c.attr("href"))};i.increment_like_count(t),i.do_action(d,n)},unlike_comment:function(e,t=function(){}){},get_permalink:function(e){return!1},get_comment_form:function(t=i.current_thread){if(!o.is_string(t)||!i.has_thread(t))return!1;var n=i.get_thread(t).slug,r=i.id,a=e("#"+n+"-comment-form-container-"+r);return a.length?a:null},disable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.disable_comment_form(e)})},disable_comment_form:function(t=i.current_thread){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!0),n.find(".form-cancel-link").css("pointer-events","none"),n.find(".form-cancel-link").addClass("loading")},enable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.enable_comment_form(e)})},enable_comment_form:function(t=null){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!1),n.find(".form-cancel-link").css("pointer-events","auto"),n.find(".form-cancel-link").removeClass("loading")},clear_comment_form:function(t=!1){var n=e(i.get_comment_form());n.find(".commenter-comment-form-textarea").val(""),n.find(".notices-container").html(""),o.is_boolean(t)&&t&&(n.find("input.author").val(""),n.find("input.email").val(""),n.find("input.url").val(""),n.find(".toggle-checkbox").prop("checked")&&n.find(".toggle-checkbox").prop("checked",!1))},reset_comment_form:function(){var t=e(i.get_comment_form()),n=i.get_current_thread(),r="#"+i.current_thread+"-comment-form-"+i.id;o.set_form_data(r,{cid:0,caction:"comment"}),t.prependTo("#"+n.identifier),t.find(".citation .has-parent > a.parent-comment-link").attr("href","#no-parent"),t.find(".citation .has-parent > a.parent-comment-link").text(""),t.find(".citation .has-parent").addClass("hidden"),i.clear_comment_form()},set_reply_comment_form:function(t,n={}){var r=e(i.get_comment_form()),a=e(i.find_comment(t,i.current_thread)),s=a.find(".comment-body").eq(0),c=a.data("comment-data"),_=i.current_thread+"-"+c.identifier,d="#"+i.current_thread+"-comment-form-"+i.id;return!o.is_null(r)&&!o.is_null(a)&&(o.set_form_data(d,{cid:c.id,caction:"reply"}),r.find(".form-cancel-link").removeClass("hidden"),r.find(".citation .has-parent > a.parent-comment-link").attr("href","#"+_),r.find(".citation .has-parent > a.parent-comment-link").text(c.author),r.find(".citation .has-parent").removeClass("hidden"),r.insertAfter(s),void r.find(".commenter-comment-form-textarea").focus())},set_reply_form_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.set_reply_comment_form(n)},reset_comment_form_handler:function(t){t.preventDefault(),e(t.currentTarget).addClass("hidden"),i.reset_comment_form()},get_comment_like_count:function(e){var t;return e=i.find_comment(e),o.is_null(e)?null:(t=parseInt(e.find(".like-count").eq(0).text(),10),!o.is_number(t)||isNaN(t)||o.is_null(t)?0:t)},set_comment_like_count:function(t,n){n=parseInt(n,10);var r=e(".like-comment-"+t);if(!o.is_object(r))return null;Object.keys(r).forEach(function(t){var a=e(r[t]).prev(".like-count");o.is_number(n)&&n>0?a.text(`${n}`):a.text("")})},increment_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n+=t),i.set_comment_like_count(e,n),n},decrement_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n-=t),i.set_comment_like_count(e,n),n},menu_handler:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.currentTarget).find(".menu");n.hasClass("open")?n.removeClass("open"):n.addClass("open")},set_loader:function(e,t){t?(a.hasClass("loading")&&a.addClass("loading"),a.fadeTo(.3,.6),a.find(".discussion-loading-container").removeClass("hidden")):(a.hasClass("loading")&&a.removeClass("loading"),a.fadeTo(.3,1),a.find(".discussion-loading-container").addClass("hidden"))},open_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")||t.addClass("open")},close_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")&&t.removeClass("open")},set_notice:function(t,n="default",r=".discussion-notices",a={}){var i=e(r),s="";return!!i.length&&(o.html_present(t)||e(t).hasClass("commenter-notice")?s=t:(["error","success","default","warning"].includes(n)?(s+='<div class="commenter-notice ajax alert '+n+" alert-"+{error:"danger",success:"success",default:"default",warning:"warning"}[n]+'">',s+='<div class="commenter-notice-'+n+'">'+t+"</div>"):(s+='<div class="commenter-notice ajax alert error">',s+='<div class="commenter-notice-error">'+t+"</div>"),s+="</div>"),i.html(s).css("display","none").slideDown("fast"),!0)},init:function(){i.render_loadmore_button(),r.on("click",i.close_menus),a.on("click",".comments-loadmore:not(.loading)",i.load_more_comments_handler),a.on("click","a.like-action-link:not(.loading)",i.like_comment_handler),a.on("click","a.unlike-action-link:not(.loading)",i.unlike_comment_handler),a.on("click",".thread-tabs .tab > a.tab-link",i.switch_threads_handler),a.on("click",".discussion-sortings a.sorting-link",i.switch_sortings_handler),a.on("click",".comment-reply-link",i.set_reply_form_handler),a.on("click",".form-cancel-link:not(.loading)",i.reset_comment_form_handler),a.on("click",".mini-dropdown",i.menu_handler),a.on("submit",".comment-form",i.post_comment_handler),a.on("commenter:set_current_thread",i.change_current_thread),a.on("commenter:set_current_sorting",i.sort_discussion),a.on("commenter:is_loading",i.set_loader)}};r.ready(function(){o.init(),i.init()}),window.Commenter=i}(jQuery),function(e){var t=Commenter_Data.ajax_url,n=JSON.parse(Commenter_Data.discussion),r=e(document),a=e("#commenter-"+n.id),o={objects:["Arguments","Function","String","Number","Date","RegExp","Array","Object","Null","Undefined","Boolean"],set_type_checkers:function(){o.objects.forEach(function(e){o["is_"+e.toLowerCase()]=function(t){return toString.call(t)=="[object "+e+"]"}})},is_url:function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)?/gi);return!!o.is_string(e)&&""!=e&&!!t.test(e)},is_email:function(e){var t=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);return!!o.is_string(e)&&""!=e&&!!t.test(e)},html_present:function(e){return new RegExp(/<\/?[a-z][\s\S]*>/i).test(e)},extend:function(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},get_form_data:function(t){var n=e(t).serializeArray(),r={};return o.is_array(n)?(n.forEach(function(e){e.hasOwnProperty("name")&&e.hasOwnProperty("value")&&(r[e.name]=e.value)}),r):null},set_form_data:function(t,n={}){var r=o.get_form_data(t);r=o.extend(r,n),Object.keys(r).forEach(function(n){e(t).find("*[name="+n+"]").val(r[n])})},get_query_string:function(e=null){o.is_null(e)&&(e=location.search);var t=new RegExp("[\\?&].*=[^&#]*"),n=e.match(t);return o.is_null(n[0])?"":n[0].split("?")[1]},get_cookies:function(){var e={};return document.cookie.split("; ").forEach(function(t){var n=new RegExp("([^\\s]*)="),r=t.match(n);t&&o.is_array(r)&&(e[r[1]]=o.get_cookie(r[1]))}),e},get_cookie:function(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+document.cookie).match(t);return e&&o.is_array(n)?unescape(n[1].replace(/\+/g," ")):""},get_url_params:function(e=null,t=null){var n=o.get_query_string(e),r={};if(n){for(var a=n.split("&"),i=0;i<a.length;i++){var s=a[i].split(/=(.+)/),c=s[0].toLowerCase(),_=o.is_undefined(s[1])?"":s[1];if(o.is_string(_)&&(_=_.toLowerCase()),c.match(/\[(\d+)?\]$/)){var d=c.replace(/\[(\d+)?\]/,"");if(r[d]||(r[d]=[]),c.match(/\[\d+\]$/)){var u=/\[(\d+)\]/.exec(c)[1];r[d][u]=_}else r[d].push(_)}else r[c]?r[c]&&o.is_string(r[c])?(r[c]=[r[c]],r[c].push(_)):r[c].push(_):r[c]=_}o.is_string(t)&&r.hasOwnProperty(t)&&(r=r[t])}return r},init:function(){o.set_type_checkers()}},i={id:n.id,identifier:n.identifier,title:n.title,threads:n.threads,sortings:n.sortings,current_sorting:n.current_sorting,current_thread:n.current_thread,current_page:n.current_page,request_time:n.request_time,is_loading:n.is_loading,comments_height:a.height(),commenter_cookies:n.commenter_cookies,utils:o,get_discussion:function(n={},r=function(){}){var s={ajax_load:!1,data:{action:"get_discussion",post_id:i.id,cthread:i.current_thread,cpage:1,csort:i.current_sorting,request_time:i.request_time}},c=(n=o.extend(s,n),o.extend(s.data,n.data));return!i.is_loading&&n.ajax_load&&e.ajax({url:t,data:c,type:"GET",dataType:"json",beforeSend:function(){i.is_loading=!0,a.trigger("commenter:is_loading",[i.is_loading])}}).done(function(e,t){r(e,t,i,n)}).fail(function(e,t){r(e,t,i,n)}).always(function(){i.is_loading=!1,a.trigger("commenter:is_loading",[i.is_loading])}),i},has_thread:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.threads.hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.threads.hasOwnProperty(e))},is_current_thread:function(e){return!!i.has_thread(e)&&(e=i.get_thread(e),i.current_thread===e.slug)},set_thread_page_count:function(e,t=i.current_thread){t=i.get_thread(t),o.is_number(e)&&e>=0&&(t.page_count=e)},get_threads:function(){return i.threads},get_thread:function(n,r={},a=(()=>{})){const{ajax_load:s=!1}=r;if(i.has_thread(n)?(o.is_string(n)?slug=n:(o.is_object(n)||o.is_array(n))&&n.hasOwnProperty("slug")&&(slug=n.slug),n=i.threads.hasOwnProperty(slug)?i.threads[slug]:i.get_current_thread()):n=i.get_current_thread(),!n.is_loaded&&s)e.ajax({url:t,data:{action:"get_thread",post_id:n.id,cthread:n.slug,cpage:n.page,csort:i.current_sorting,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)});else{var c={status:"success",thread:"",current_page:n.current_page,page_count:n.page_count,thread_data:n};a(JSON.stringify(c),null,n,r)}return n},set_current_thread:function(t,n={}){const{ajax_load:r=!0}=n;var o=i.get_current_thread().slug;i.has_thread(t)&&(o=i.get_thread(t,{ajax_load:r},function(t,n,r){if(t.hasOwnProperty("status")&&t.hasOwnProperty("thread")&&"success"===t.status){t.status;var a=t.thread,o=i.threads[r.slug],s=o.identifier;e("#"+s).replaceWith(a),o.is_loaded=!0,i.render_loadmore_button(r.slug)}}).slug),Object.keys(i.threads).forEach(function(e){(e=i.threads[e]).slug===o?e.is_current_thread=!0:e.is_current_thread=!1}),i.current_thread=o,i.current_page=i.get_current_thread().current_page,a.trigger("commenter:set_current_thread",[i.get_current_thread()])},get_current_thread:function(){return i.get_thread(i.current_thread)},switch_threads_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("thread-slug"),r=i.get_thread(n);e("."+n+"-thread"),i.has_thread(r)&&i.set_current_thread(r)},change_current_thread:function(t,n){Object.keys(i.threads).forEach(function(t){var r=(t=i.threads[t]).identifier,a="#"+r,o=e("#"+r+"-tab"),s=e(a);t.slug!==n.slug?(o.removeClass("current-tab"),s.removeClass("current-thread")):(o.addClass("current-tab"),s.addClass("current-thread"))})},set_current_page:function(e){var t=i.get_current_thread();o.is_number(e)&&(i.current_page=e,t.current_page=e,i.threads[t.slug].current_page=e)},get_current_page:function(){return i.current_page},get_thread_identifier:function(e={}){const{thread:t=i.get_current_thread()}=e;return i.has_thread(t)?i.get_thread(t).identifier:null==t?i.get_current_thread().identifier:t.hasOwnProperty("identifier")?t.identifier:null},get_sortings:function(){return i.sortings},has_sorting:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.get_sortings().hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.get_sortings().hasOwnProperty(e))},get_sorting:function(e){return i.has_sorting(e)?(o.is_string(e)?slug=e:(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")&&(slug=e.slug),e=i.get_sortings().hasOwnProperty(slug)?i.get_sortings()[slug]:i.get_current_sorting()):e=i.get_current_sorting(),e},get_current_sorting:function(){return i.get_sorting(i.current_sorting)},set_current_sorting:function(e){var t=i.get_current_sorting().slug,n=i.get_sortings();return!!o.is_string(e)&&t!==e&&(i.has_sorting(e)&&(t=i.get_sorting(e).slug),Object.keys(n).forEach(function(e){(e=n[e]).slug===t?e.is_current_sorting=!0:e.is_current_sorting=!1}),i.current_sorting=t,a.trigger("commenter:set_current_sorting",[i.get_current_sorting()]),i.get_current_sorting())},sort_discussion:function(t,n){i.get_discussion({ajax_load:!0},function(t,n,r,a){t.hasOwnProperty("status")&&"success"===t.status&&(e("#"+i.identifier).replaceWith(t.discussion),i.render_loadmore_button(i.current_thread),i.threads=t.discussion_data.threads,i.current_page=1)})},sort_by:function(e){return i.set_current_sorting(e)},find_comment:function(t,n=null){var r=".comment",a=null;return(o.is_number(t)||o.is_number(parseInt(t)))&&(isNaN(parseInt(t))||(r+="-"+parseInt(t))),i.has_thread(n)&&(r="."+(n=i.get_thread(n)).slug+"-thread "+r),o.is_string(t)&&!o.is_number(parseInt(t))&&(r="."+t),(t=e(r)).length&&(a=t),a},hide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e(`#${n} .comments-loadmore-container`).addClass("hidden")},unhide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").removeClass("hidden")},remove_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").remove()},render_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .thread-navigation").remove(),i.unhide_loadmore_button(t)},get_comments:function(n=i.get_current_thread(),r={},a=i.set_comments){o.is_string(n)&&i.has_thread(n)?n=i.get_thread(n):(o.is_array(n)||o.is_object(n))&&i.has_thread(n)&&(n=i.get_thread(n));const{post_id:s=i.id,page:c=n.current_page,sorting:_=i.current_sorting}=r;return e.ajax({url:t,data:{action:"get_comments",post_id:s,cthread:n.slug,cpage:c,csort:_,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)}),!1},set_comments:function(e,t=i.get_current_thread(),n={}){var r,a,s;i.has_thread(t)&&(s=(r=t).identifier),o.is_object(n)&&n.hasOwnProperty("page")&&o.is_number(n.page)&&(a=n.page),i.append_comments(e,"#"+s+" > .thread-comments"),i.set_current_page(a),i.current_page==r.page_count&&i.hide_loadmore_button(r.slug)},load_more_comments_handler:function(t){var n=e(t.currentTarget),r=i.current_page+1,a=n.data("thread-slug");n.attr("disabled",!0).addClass("loading"),i.get_comments(a,{page:r},function(e,t,r,a){if(e.hasOwnProperty("status")&&e.hasOwnProperty("comments")&&"success"===e.status){var o=e.comments,s=(e.current_page,e.page_count);r=r,i.set_thread_page_count(s),i.set_comments(o,r,a),n.attr("disabled",!1).removeClass("loading")}})},append_comments:function(t,n="."+i.current_thread+"-thread"){e(n).append(t)},switch_sortings_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("sorting-slug");i.set_current_sorting(n)},do_action:function(n={},r=function(){}){var a={method:"GET",data:{action:"do_action",post_id:i.id,caction:null,cid:0,cpage:i.current_page,cthread:i.current_thread,csort:i.current_sorting,request_time:i.request_time}},s=(n=o.extend(a,n),o.extend(a.data,n.data));e.ajax({url:t,data:s,type:n.method,dataType:"json"}).done(function(e,t){r(e,t,n)}).fail(function(e,t){r(e,t,n)})},post_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).attr("id"),r=o.get_form_data("#"+n),a="#"+n+" .notices-container",s={method:"POST",data:r};i.disable_comment_forms(),i.post_comment(s,function(t,n,o){t.hasOwnProperty("status")&&"success"==t.status?(t.hasOwnProperty("comment")&&e(".comments-area").prepend(e(t.comment).addClass("new-comment")),"reply"==r.caction&&i.reset_comment_form(),i.clear_comment_form()):t.hasOwnProperty("status")&&"error"==t.status&&i.set_notice(t.message,t.status,a),i.enable_comment_forms()})},post_comment:function(e={},t=function(){}){e=o.extend({method:"POST",data:{}},e),i.do_action(e,t)},like_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.like_comment(n,function(e,t,n){e.hasOwnProperty("status")&&e.status})},unlike_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.data("comment-id");n.addClass("loading"),n.find(".animated-heart").removeClass("activated"),n.addClass("like-action-link").removeClass("unlike-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("unlike-btn").addClass("like-btn"),a.trigger("commenter:unlike_comment"),i.decrement_like_count(r)},flag_comment:function(){},unflag_comment:function(){},like_comment:function(t,n=function(){}){t=o.is_number(t)?t:0;var r=i.find_comment(t,i.current_thread),s=".like-comment-"+t,c=e(r).find(s),_=e(s);Object.keys(_).forEach(function(t){var n=e(_[t]);n.addClass("loading"),n.children(".animated-heart").addClass("activated").on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(t){e(this).removeClass("activated")}),n.addClass("unlike-action-link").removeClass("like-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("like-btn").addClass("unlike-btn"),a.trigger("commenter:like_comment")});var d={method:"GET",data:o.get_url_params(c.attr("href"))};i.increment_like_count(t),i.do_action(d,n)},unlike_comment:function(e,t=function(){}){},get_permalink:function(e){return!1},get_comment_form:function(t=i.current_thread){if(!o.is_string(t)||!i.has_thread(t))return!1;var n=i.get_thread(t).slug,r=i.id,a=e("#"+n+"-comment-form-container-"+r);return a.length?a:null},disable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.disable_comment_form(e)})},disable_comment_form:function(t=i.current_thread){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!0),n.find(".form-cancel-link").css("pointer-events","none"),n.find(".form-cancel-link").addClass("loading")},enable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.enable_comment_form(e)})},enable_comment_form:function(t=null){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!1),n.find(".form-cancel-link").css("pointer-events","auto"),n.find(".form-cancel-link").removeClass("loading")},clear_comment_form:function(t=!1){var n=e(i.get_comment_form());n.find(".commenter-comment-form-textarea").val(""),n.find(".notices-container").html(""),o.is_boolean(t)&&t&&(n.find("input.author").val(""),n.find("input.email").val(""),n.find("input.url").val(""),n.find(".toggle-checkbox").prop("checked")&&n.find(".toggle-checkbox").prop("checked",!1))},reset_comment_form:function(){var t=e(i.get_comment_form()),n=i.get_current_thread(),r="#"+i.current_thread+"-comment-form-"+i.id;o.set_form_data(r,{cid:0,caction:"comment"}),t.prependTo("#"+n.identifier),t.find(".citation .has-parent > a.parent-comment-link").attr("href","#no-parent"),t.find(".citation .has-parent > a.parent-comment-link").text(""),t.find(".citation .has-parent").addClass("hidden"),i.clear_comment_form()},set_reply_comment_form:function(t,n={}){var r=e(i.get_comment_form()),a=e(i.find_comment(t,i.current_thread)),s=a.find(".comment-body").eq(0),c=a.data("comment-data"),_=i.current_thread+"-"+c.identifier,d="#"+i.current_thread+"-comment-form-"+i.id;return!o.is_null(r)&&!o.is_null(a)&&(o.set_form_data(d,{cid:c.id,caction:"reply"}),r.find(".form-cancel-link").removeClass("hidden"),r.find(".citation .has-parent > a.parent-comment-link").attr("href","#"+_),r.find(".citation .has-parent > a.parent-comment-link").text(c.author),r.find(".citation .has-parent").removeClass("hidden"),r.insertAfter(s),void r.find(".commenter-comment-form-textarea").focus())},set_reply_form_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.set_reply_comment_form(n)},reset_comment_form_handler:function(t){t.preventDefault(),e(t.currentTarget).addClass("hidden"),i.reset_comment_form()},get_comment_like_count:function(e){var t;return e=i.find_comment(e),o.is_null(e)?null:(t=parseInt(e.find(".like-count").eq(0).text(),10),!o.is_number(t)||isNaN(t)||o.is_null(t)?0:t)},set_comment_like_count:function(t,n){n=parseInt(n,10);var r=e(".like-comment-"+t);if(!o.is_object(r))return null;Object.keys(r).forEach(function(t){var a=e(r[t]).prev(".like-count");o.is_number(n)&&n>0?a.text(`${n}`):a.text("")})},increment_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n+=t),i.set_comment_like_count(e,n),n},decrement_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n-=t),i.set_comment_like_count(e,n),n},menu_handler:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.currentTarget).find(".menu");n.hasClass("open")?n.removeClass("open"):n.addClass("open")},set_loader:function(e,t){t?(a.hasClass("loading")&&a.addClass("loading"),a.fadeTo(.3,.6),a.find(".discussion-loading-container").removeClass("hidden")):(a.hasClass("loading")&&a.removeClass("loading"),a.fadeTo(.3,1),a.find(".discussion-loading-container").addClass("hidden"))},open_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")||t.addClass("open")},close_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")&&t.removeClass("open")},set_notice:function(t,n="default",r=".discussion-notices",a={}){var i=e(r),s="";return!!i.length&&(o.html_present(t)||e(t).hasClass("commenter-notice")?s=t:(["error","success","default","warning"].includes(n)?(s+='<div class="commenter-notice ajax alert '+n+" alert-"+{error:"danger",success:"success",default:"default",warning:"warning"}[n]+'">',s+='<div class="commenter-notice-'+n+'">'+t+"</div>"):(s+='<div class="commenter-notice ajax alert error">',s+='<div class="commenter-notice-error">'+t+"</div>"),s+="</div>"),i.html(s).css("display","none").slideDown("fast"),!0)},init:function(){i.render_loadmore_button(),r.on("click",i.close_menus),a.on("click",".comments-loadmore:not(.loading)",i.load_more_comments_handler),a.on("click","a.like-action-link:not(.loading)",i.like_comment_handler),a.on("click","a.unlike-action-link:not(.loading)",i.unlike_comment_handler),a.on("click",".thread-tabs .tab > a.tab-link",i.switch_threads_handler),a.on("click",".discussion-sortings a.sorting-link",i.switch_sortings_handler),a.on("click",".comment-reply-link",i.set_reply_form_handler),a.on("click",".form-cancel-link:not(.loading)",i.reset_comment_form_handler),a.on("click",".mini-dropdown",i.menu_handler),a.on("submit",".comment-form",i.post_comment_handler),a.on("commenter:set_current_thread",i.change_current_thread),a.on("commenter:set_current_sorting",i.sort_discussion),a.on("commenter:is_loading",i.set_loader)}};r.ready(function(){o.init(),i.init()}),window.Commenter=i}(jQuery),function(e){var t=Commenter_Data.ajax_url,n=JSON.parse(Commenter_Data.discussion),r=e(document),a=e("#commenter-"+n.id),o={objects:["Arguments","Function","String","Number","Date","RegExp","Array","Object","Null","Undefined","Boolean"],set_type_checkers:function(){o.objects.forEach(function(e){o["is_"+e.toLowerCase()]=function(t){return toString.call(t)=="[object "+e+"]"}})},is_url:function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)?/gi);return!!o.is_string(e)&&""!=e&&!!t.test(e)},is_email:function(e){var t=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);return!!o.is_string(e)&&""!=e&&!!t.test(e)},html_present:function(e){return new RegExp(/<\/?[a-z][\s\S]*>/i).test(e)},extend:function(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},get_form_data:function(t){var n=e(t).serializeArray(),r={};return o.is_array(n)?(n.forEach(function(e){e.hasOwnProperty("name")&&e.hasOwnProperty("value")&&(r[e.name]=e.value)}),r):null},set_form_data:function(t,n={}){var r=o.get_form_data(t);r=o.extend(r,n),Object.keys(r).forEach(function(n){e(t).find("*[name="+n+"]").val(r[n])})},get_query_string:function(e=null){o.is_null(e)&&(e=location.search);var t=new RegExp("[\\?&].*=[^&#]*"),n=e.match(t);return o.is_null(n[0])?"":n[0].split("?")[1]},get_cookies:function(){var e={};return document.cookie.split("; ").forEach(function(t){var n=new RegExp("([^\\s]*)="),r=t.match(n);t&&o.is_array(r)&&(e[r[1]]=o.get_cookie(r[1]))}),e},get_cookie:function(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+document.cookie).match(t);return e&&o.is_array(n)?unescape(n[1].replace(/\+/g," ")):""},get_url_params:function(e=null,t=null){var n=o.get_query_string(e),r={};if(n){for(var a=n.split("&"),i=0;i<a.length;i++){var s=a[i].split(/=(.+)/),c=s[0].toLowerCase(),_=o.is_undefined(s[1])?"":s[1];if(o.is_string(_)&&(_=_.toLowerCase()),c.match(/\[(\d+)?\]$/)){var d=c.replace(/\[(\d+)?\]/,"");if(r[d]||(r[d]=[]),c.match(/\[\d+\]$/)){var u=/\[(\d+)\]/.exec(c)[1];r[d][u]=_}else r[d].push(_)}else r[c]?r[c]&&o.is_string(r[c])?(r[c]=[r[c]],r[c].push(_)):r[c].push(_):r[c]=_}o.is_string(t)&&r.hasOwnProperty(t)&&(r=r[t])}return r},init:function(){o.set_type_checkers()}},i={id:n.id,identifier:n.identifier,title:n.title,threads:n.threads,sortings:n.sortings,current_sorting:n.current_sorting,current_thread:n.current_thread,current_page:n.current_page,request_time:n.request_time,is_loading:n.is_loading,comments_height:a.height(),commenter_cookies:n.commenter_cookies,utils:o,get_discussion:function(n={},r=function(){}){var s={ajax_load:!1,data:{action:"get_discussion",post_id:i.id,cthread:i.current_thread,cpage:1,csort:i.current_sorting,request_time:i.request_time}},c=(n=o.extend(s,n),o.extend(s.data,n.data));return!i.is_loading&&n.ajax_load&&e.ajax({url:t,data:c,type:"GET",dataType:"json",beforeSend:function(){i.is_loading=!0,a.trigger("commenter:is_loading",[i.is_loading])}}).done(function(e,t){r(e,t,i,n)}).fail(function(e,t){r(e,t,i,n)}).always(function(){i.is_loading=!1,a.trigger("commenter:is_loading",[i.is_loading])}),i},has_thread:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.threads.hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.threads.hasOwnProperty(e))},is_current_thread:function(e){return!!i.has_thread(e)&&(e=i.get_thread(e),i.current_thread===e.slug)},set_thread_page_count:function(e,t=i.current_thread){t=i.get_thread(t),o.is_number(e)&&e>=0&&(t.page_count=e)},get_threads:function(){return i.threads},get_thread:function(n,r={},a=(()=>{})){const{ajax_load:s=!1}=r;if(i.has_thread(n)?(o.is_string(n)?slug=n:(o.is_object(n)||o.is_array(n))&&n.hasOwnProperty("slug")&&(slug=n.slug),n=i.threads.hasOwnProperty(slug)?i.threads[slug]:i.get_current_thread()):n=i.get_current_thread(),!n.is_loaded&&s)e.ajax({url:t,data:{action:"get_thread",post_id:n.id,cthread:n.slug,cpage:n.page,csort:i.current_sorting,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)});else{var c={status:"success",thread:"",current_page:n.current_page,page_count:n.page_count,thread_data:n};a(JSON.stringify(c),null,n,r)}return n},set_current_thread:function(t,n={}){const{ajax_load:r=!0}=n;var o=i.get_current_thread().slug;i.has_thread(t)&&(o=i.get_thread(t,{ajax_load:r},function(t,n,r){if(t.hasOwnProperty("status")&&t.hasOwnProperty("thread")&&"success"===t.status){t.status;var a=t.thread,o=i.threads[r.slug],s=o.identifier;e("#"+s).replaceWith(a),o.is_loaded=!0,i.render_loadmore_button(r.slug)}}).slug),Object.keys(i.threads).forEach(function(e){(e=i.threads[e]).slug===o?e.is_current_thread=!0:e.is_current_thread=!1}),i.current_thread=o,i.current_page=i.get_current_thread().current_page,a.trigger("commenter:set_current_thread",[i.get_current_thread()])},get_current_thread:function(){return i.get_thread(i.current_thread)},switch_threads_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("thread-slug"),r=i.get_thread(n);e("."+n+"-thread"),i.has_thread(r)&&i.set_current_thread(r)},change_current_thread:function(t,n){Object.keys(i.threads).forEach(function(t){var r=(t=i.threads[t]).identifier,a="#"+r,o=e("#"+r+"-tab"),s=e(a);t.slug!==n.slug?(o.removeClass("current-tab"),s.removeClass("current-thread")):(o.addClass("current-tab"),s.addClass("current-thread"))})},set_current_page:function(e){var t=i.get_current_thread();o.is_number(e)&&(i.current_page=e,t.current_page=e,i.threads[t.slug].current_page=e)},get_current_page:function(){return i.current_page},get_thread_identifier:function(e={}){const{thread:t=i.get_current_thread()}=e;return i.has_thread(t)?i.get_thread(t).identifier:null==t?i.get_current_thread().identifier:t.hasOwnProperty("identifier")?t.identifier:null},get_sortings:function(){return i.sortings},has_sorting:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.get_sortings().hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.get_sortings().hasOwnProperty(e))},get_sorting:function(e){return i.has_sorting(e)?(o.is_string(e)?slug=e:(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")&&(slug=e.slug),e=i.get_sortings().hasOwnProperty(slug)?i.get_sortings()[slug]:i.get_current_sorting()):e=i.get_current_sorting(),e},get_current_sorting:function(){return i.get_sorting(i.current_sorting)},set_current_sorting:function(e){var t=i.get_current_sorting().slug,n=i.get_sortings();return!!o.is_string(e)&&t!==e&&(i.has_sorting(e)&&(t=i.get_sorting(e).slug),Object.keys(n).forEach(function(e){(e=n[e]).slug===t?e.is_current_sorting=!0:e.is_current_sorting=!1}),i.current_sorting=t,a.trigger("commenter:set_current_sorting",[i.get_current_sorting()]),i.get_current_sorting())},sort_discussion:function(t,n){i.get_discussion({ajax_load:!0},function(t,n,r,a){t.hasOwnProperty("status")&&"success"===t.status&&(e("#"+i.identifier).replaceWith(t.discussion),i.render_loadmore_button(i.current_thread),i.threads=t.discussion_data.threads,i.current_page=1)})},sort_by:function(e){return i.set_current_sorting(e)},find_comment:function(t,n=null){var r=".comment",a=null;return(o.is_number(t)||o.is_number(parseInt(t)))&&(isNaN(parseInt(t))||(r+="-"+parseInt(t))),i.has_thread(n)&&(r="."+(n=i.get_thread(n)).slug+"-thread "+r),o.is_string(t)&&!o.is_number(parseInt(t))&&(r="."+t),(t=e(r)).length&&(a=t),a},hide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e(`#${n} .comments-loadmore-container`).addClass("hidden")},unhide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").removeClass("hidden")},remove_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").remove()},render_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .thread-navigation").remove(),i.unhide_loadmore_button(t)},get_comments:function(n=i.get_current_thread(),r={},a=i.set_comments){o.is_string(n)&&i.has_thread(n)?n=i.get_thread(n):(o.is_array(n)||o.is_object(n))&&i.has_thread(n)&&(n=i.get_thread(n));const{post_id:s=i.id,page:c=n.current_page,sorting:_=i.current_sorting}=r;return e.ajax({url:t,data:{action:"get_comments",post_id:s,cthread:n.slug,cpage:c,csort:_,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)}),!1},set_comments:function(e,t=i.get_current_thread(),n={}){var r,a,s;i.has_thread(t)&&(s=(r=t).identifier),o.is_object(n)&&n.hasOwnProperty("page")&&o.is_number(n.page)&&(a=n.page),i.append_comments(e,"#"+s+" > .thread-comments"),i.set_current_page(a),i.current_page==r.page_count&&i.hide_loadmore_button(r.slug)},load_more_comments_handler:function(t){var n=e(t.currentTarget),r=i.current_page+1,a=n.data("thread-slug");n.attr("disabled",!0).addClass("loading"),i.get_comments(a,{page:r},function(e,t,r,a){if(e.hasOwnProperty("status")&&e.hasOwnProperty("comments")&&"success"===e.status){var o=e.comments,s=(e.current_page,e.page_count);r=r,i.set_thread_page_count(s),i.set_comments(o,r,a),n.attr("disabled",!1).removeClass("loading")}})},append_comments:function(t,n="."+i.current_thread+"-thread"){e(n).append(t)},switch_sortings_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("sorting-slug");i.set_current_sorting(n)},do_action:function(n={},r=function(){}){var a={method:"GET",data:{action:"do_action",post_id:i.id,caction:null,cid:0,cpage:i.current_page,cthread:i.current_thread,csort:i.current_sorting,request_time:i.request_time}},s=(n=o.extend(a,n),o.extend(a.data,n.data));e.ajax({url:t,data:s,type:n.method,dataType:"json"}).done(function(e,t){r(e,t,n)}).fail(function(e,t){r(e,t,n)})},post_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).attr("id"),r=o.get_form_data("#"+n),a="#"+n+" .notices-container",s={method:"POST",data:r};i.disable_comment_forms(),i.post_comment(s,function(t,n,o){t.hasOwnProperty("status")&&"success"==t.status?(t.hasOwnProperty("comment")&&e(".comments-area").prepend(e(t.comment).addClass("new-comment")),"reply"==r.caction&&i.reset_comment_form(),i.clear_comment_form()):t.hasOwnProperty("status")&&"error"==t.status&&i.set_notice(t.message,t.status,a),i.enable_comment_forms()})},post_comment:function(e={},t=function(){}){e=o.extend({method:"POST",data:{}},e),i.do_action(e,t)},like_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.like_comment(n,function(e,t,n){e.hasOwnProperty("status")&&e.status})},unlike_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.data("comment-id");n.addClass("loading"),n.find(".animated-heart").removeClass("activated"),n.addClass("like-action-link").removeClass("unlike-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("unlike-btn").addClass("like-btn"),a.trigger("commenter:unlike_comment"),i.decrement_like_count(r)},flag_comment:function(){},unflag_comment:function(){},like_comment:function(t,n=function(){}){t=o.is_number(t)?t:0;var r=i.find_comment(t,i.current_thread),s=".like-comment-"+t,c=e(r).find(s),_=e(s);Object.keys(_).forEach(function(t){var n=e(_[t]);n.addClass("loading"),n.children(".animated-heart").addClass("activated").on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(t){e(this).removeClass("activated")}),n.addClass("unlike-action-link").removeClass("like-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("like-btn").addClass("unlike-btn"),a.trigger("commenter:like_comment")});var d={method:"GET",data:o.get_url_params(c.attr("href"))};i.increment_like_count(t),i.do_action(d,n)},unlike_comment:function(e,t=function(){}){},get_permalink:function(e){return!1},get_comment_form:function(t=i.current_thread){if(!o.is_string(t)||!i.has_thread(t))return!1;var n=i.get_thread(t).slug,r=i.id,a=e("#"+n+"-comment-form-container-"+r);return a.length?a:null},disable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.disable_comment_form(e)})},disable_comment_form:function(t=i.current_thread){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!0),n.find(".form-cancel-link").css("pointer-events","none"),n.find(".form-cancel-link").addClass("loading")},enable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.enable_comment_form(e)})},enable_comment_form:function(t=null){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!1),n.find(".form-cancel-link").css("pointer-events","auto"),n.find(".form-cancel-link").removeClass("loading")},clear_comment_form:function(t=!1){var n=e(i.get_comment_form());n.find(".commenter-comment-form-textarea").val(""),n.find(".notices-container").html(""),o.is_boolean(t)&&t&&(n.find("input.author").val(""),n.find("input.email").val(""),n.find("input.url").val(""),n.find(".toggle-checkbox").prop("checked")&&n.find(".toggle-checkbox").prop("checked",!1))},reset_comment_form:function(){var t=e(i.get_comment_form()),n=i.get_current_thread(),r="#"+i.current_thread+"-comment-form-"+i.id;o.set_form_data(r,{cid:0,caction:"comment"}),t.prependTo("#"+n.identifier),t.find(".citation .has-parent > a.parent-comment-link").attr("href","#no-parent"),t.find(".citation .has-parent > a.parent-comment-link").text(""),t.find(".citation .has-parent").addClass("hidden"),i.clear_comment_form()},set_reply_comment_form:function(t,n={}){var r=e(i.get_comment_form()),a=e(i.find_comment(t,i.current_thread)),s=a.find(".comment-body").eq(0),c=a.data("comment-data"),_=i.current_thread+"-"+c.identifier,d="#"+i.current_thread+"-comment-form-"+i.id;return!o.is_null(r)&&!o.is_null(a)&&(o.set_form_data(d,{cid:c.id,caction:"reply"}),r.find(".form-cancel-link").removeClass("hidden"),r.find(".citation .has-parent > a.parent-comment-link").attr("href","#"+_),r.find(".citation .has-parent > a.parent-comment-link").text(c.author),r.find(".citation .has-parent").removeClass("hidden"),r.insertAfter(s),void r.find(".commenter-comment-form-textarea").focus())},set_reply_form_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.set_reply_comment_form(n)},reset_comment_form_handler:function(t){t.preventDefault(),e(t.currentTarget).addClass("hidden"),i.reset_comment_form()},get_comment_like_count:function(e){var t;return e=i.find_comment(e),o.is_null(e)?null:(t=parseInt(e.find(".like-count").eq(0).text(),10),!o.is_number(t)||isNaN(t)||o.is_null(t)?0:t)},set_comment_like_count:function(t,n){n=parseInt(n,10);var r=e(".like-comment-"+t);if(!o.is_object(r))return null;Object.keys(r).forEach(function(t){var a=e(r[t]).prev(".like-count");o.is_number(n)&&n>0?a.text(`${n}`):a.text("")})},increment_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n+=t),i.set_comment_like_count(e,n),n},decrement_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n-=t),i.set_comment_like_count(e,n),n},menu_handler:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.currentTarget).find(".menu");n.hasClass("open")?n.removeClass("open"):n.addClass("open")},set_loader:function(e,t){t?(a.hasClass("loading")&&a.addClass("loading"),a.fadeTo(.3,.6),a.find(".discussion-loading-container").removeClass("hidden")):(a.hasClass("loading")&&a.removeClass("loading"),a.fadeTo(.3,1),a.find(".discussion-loading-container").addClass("hidden"))},open_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")||t.addClass("open")},close_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")&&t.removeClass("open")},set_notice:function(t,n="default",r=".discussion-notices",a={}){var i=e(r),s="";return!!i.length&&(o.html_present(t)||e(t).hasClass("commenter-notice")?s=t:(["error","success","default","warning"].includes(n)?(s+='<div class="commenter-notice ajax alert '+n+" alert-"+{error:"danger",success:"success",default:"default",warning:"warning"}[n]+'">',s+='<div class="commenter-notice-'+n+'">'+t+"</div>"):(s+='<div class="commenter-notice ajax alert error">',s+='<div class="commenter-notice-error">'+t+"</div>"),s+="</div>"),i.html(s).css("display","none").slideDown("fast"),!0)},init:function(){i.render_loadmore_button(),r.on("click",i.close_menus),a.on("click",".comments-loadmore:not(.loading)",i.load_more_comments_handler),a.on("click","a.like-action-link:not(.loading)",i.like_comment_handler),a.on("click","a.unlike-action-link:not(.loading)",i.unlike_comment_handler),a.on("click",".thread-tabs .tab > a.tab-link",i.switch_threads_handler),a.on("click",".discussion-sortings a.sorting-link",i.switch_sortings_handler),a.on("click",".comment-reply-link",i.set_reply_form_handler),a.on("click",".form-cancel-link:not(.loading)",i.reset_comment_form_handler),a.on("click",".mini-dropdown",i.menu_handler),a.on("submit",".comment-form",i.post_comment_handler),a.on("commenter:set_current_thread",i.change_current_thread),a.on("commenter:set_current_sorting",i.sort_discussion),a.on("commenter:is_loading",i.set_loader)}};r.ready(function(){o.init(),i.init()}),window.Commenter=i}(jQuery),function(e){var t=Commenter_Data.ajax_url,n=JSON.parse(Commenter_Data.discussion),r=e(document),a=e("#commenter-"+n.id),o={objects:["Arguments","Function","String","Number","Date","RegExp","Array","Object","Null","Undefined","Boolean"],set_type_checkers:function(){o.objects.forEach(function(e){o["is_"+e.toLowerCase()]=function(t){return toString.call(t)=="[object "+e+"]"}})},is_url:function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)?/gi);return!!o.is_string(e)&&""!=e&&!!t.test(e)},is_email:function(e){var t=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);return!!o.is_string(e)&&""!=e&&!!t.test(e)},html_present:function(e){return new RegExp(/<\/?[a-z][\s\S]*>/i).test(e)},extend:function(e,t){var n,r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},get_form_data:function(t){var n=e(t).serializeArray(),r={};return o.is_array(n)?(n.forEach(function(e){e.hasOwnProperty("name")&&e.hasOwnProperty("value")&&(r[e.name]=e.value)}),r):null},set_form_data:function(t,n={}){var r=o.get_form_data(t);r=o.extend(r,n),Object.keys(r).forEach(function(n){e(t).find("*[name="+n+"]").val(r[n])})},get_query_string:function(e=null){o.is_null(e)&&(e=location.search);var t=new RegExp("[\\?&].*=[^&#]*"),n=e.match(t);return o.is_null(n[0])?"":n[0].split("?")[1]},get_cookies:function(){var e={};return document.cookie.split("; ").forEach(function(t){var n=new RegExp("([^\\s]*)="),r=t.match(n);t&&o.is_array(r)&&(e[r[1]]=o.get_cookie(r[1]))}),e},get_cookie:function(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),n=(" "+document.cookie).match(t);return e&&o.is_array(n)?unescape(n[1].replace(/\+/g," ")):""},get_url_params:function(e=null,t=null){var n=o.get_query_string(e),r={};if(n){for(var a=n.split("&"),i=0;i<a.length;i++){var s=a[i].split(/=(.+)/),c=s[0].toLowerCase(),_=o.is_undefined(s[1])?"":s[1];if(o.is_string(_)&&(_=_.toLowerCase()),c.match(/\[(\d+)?\]$/)){var d=c.replace(/\[(\d+)?\]/,"");if(r[d]||(r[d]=[]),c.match(/\[\d+\]$/)){var u=/\[(\d+)\]/.exec(c)[1];r[d][u]=_}else r[d].push(_)}else r[c]?r[c]&&o.is_string(r[c])?(r[c]=[r[c]],r[c].push(_)):r[c].push(_):r[c]=_}o.is_string(t)&&r.hasOwnProperty(t)&&(r=r[t])}return r},init:function(){o.set_type_checkers()}},i={id:n.id,identifier:n.identifier,title:n.title,threads:n.threads,sortings:n.sortings,current_sorting:n.current_sorting,current_thread:n.current_thread,current_page:n.current_page,request_time:n.request_time,is_loading:n.is_loading,comments_height:a.height(),commenter_cookies:n.commenter_cookies,utils:o,get_discussion:function(n={},r=function(){}){var s={ajax_load:!1,data:{action:"get_discussion",post_id:i.id,cthread:i.current_thread,cpage:1,csort:i.current_sorting,request_time:i.request_time}},c=(n=o.extend(s,n),o.extend(s.data,n.data));return!i.is_loading&&n.ajax_load&&e.ajax({url:t,data:c,type:"GET",dataType:"json",beforeSend:function(){i.is_loading=!0,a.trigger("commenter:is_loading",[i.is_loading])}}).done(function(e,t){r(e,t,i,n)}).fail(function(e,t){r(e,t,i,n)}).always(function(){i.is_loading=!1,a.trigger("commenter:is_loading",[i.is_loading])}),i},has_thread:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.threads.hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.threads.hasOwnProperty(e))},is_current_thread:function(e){return!!i.has_thread(e)&&(e=i.get_thread(e),i.current_thread===e.slug)},set_thread_page_count:function(e,t=i.current_thread){t=i.get_thread(t),o.is_number(e)&&e>=0&&(t.page_count=e)},get_threads:function(){return i.threads},get_thread:function(n,r={},a=(()=>{})){const{ajax_load:s=!1}=r;if(i.has_thread(n)?(o.is_string(n)?slug=n:(o.is_object(n)||o.is_array(n))&&n.hasOwnProperty("slug")&&(slug=n.slug),n=i.threads.hasOwnProperty(slug)?i.threads[slug]:i.get_current_thread()):n=i.get_current_thread(),!n.is_loaded&&s)e.ajax({url:t,data:{action:"get_thread",post_id:n.id,cthread:n.slug,cpage:n.page,csort:i.current_sorting,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)});else{var c={status:"success",thread:"",current_page:n.current_page,page_count:n.page_count,thread_data:n};a(JSON.stringify(c),null,n,r)}return n},set_current_thread:function(t,n={}){const{ajax_load:r=!0}=n;var o=i.get_current_thread().slug;i.has_thread(t)&&(o=i.get_thread(t,{ajax_load:r},function(t,n,r){if(t.hasOwnProperty("status")&&t.hasOwnProperty("thread")&&"success"===t.status){t.status;var a=t.thread,o=i.threads[r.slug],s=o.identifier;e("#"+s).replaceWith(a),o.is_loaded=!0,i.render_loadmore_button(r.slug)}}).slug),Object.keys(i.threads).forEach(function(e){(e=i.threads[e]).slug===o?e.is_current_thread=!0:e.is_current_thread=!1}),i.current_thread=o,i.current_page=i.get_current_thread().current_page,a.trigger("commenter:set_current_thread",[i.get_current_thread()])},get_current_thread:function(){return i.get_thread(i.current_thread)},switch_threads_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("thread-slug"),r=i.get_thread(n);e("."+n+"-thread"),i.has_thread(r)&&i.set_current_thread(r)},change_current_thread:function(t,n){Object.keys(i.threads).forEach(function(t){var r=(t=i.threads[t]).identifier,a="#"+r,o=e("#"+r+"-tab"),s=e(a);t.slug!==n.slug?(o.removeClass("current-tab"),s.removeClass("current-thread")):(o.addClass("current-tab"),s.addClass("current-thread"))})},set_current_page:function(e){var t=i.get_current_thread();o.is_number(e)&&(i.current_page=e,t.current_page=e,i.threads[t.slug].current_page=e)},get_current_page:function(){return i.current_page},get_thread_identifier:function(e={}){const{thread:t=i.get_current_thread()}=e;return i.has_thread(t)?i.get_thread(t).identifier:null==t?i.get_current_thread().identifier:t.hasOwnProperty("identifier")?t.identifier:null},get_sortings:function(){return i.sortings},has_sorting:function(e){return(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")?i.get_sortings().hasOwnProperty(e.slug):!!o.is_string(e)&&(e=e.toLowerCase(),i.get_sortings().hasOwnProperty(e))},get_sorting:function(e){return i.has_sorting(e)?(o.is_string(e)?slug=e:(o.is_object(e)||o.is_array(e))&&e.hasOwnProperty("slug")&&(slug=e.slug),e=i.get_sortings().hasOwnProperty(slug)?i.get_sortings()[slug]:i.get_current_sorting()):e=i.get_current_sorting(),e},get_current_sorting:function(){return i.get_sorting(i.current_sorting)},set_current_sorting:function(e){var t=i.get_current_sorting().slug,n=i.get_sortings();return!!o.is_string(e)&&t!==e&&(i.has_sorting(e)&&(t=i.get_sorting(e).slug),Object.keys(n).forEach(function(e){(e=n[e]).slug===t?e.is_current_sorting=!0:e.is_current_sorting=!1}),i.current_sorting=t,a.trigger("commenter:set_current_sorting",[i.get_current_sorting()]),i.get_current_sorting())},sort_discussion:function(t,n){i.get_discussion({ajax_load:!0},function(t,n,r,a){t.hasOwnProperty("status")&&"success"===t.status&&(e("#"+i.identifier).replaceWith(t.discussion),i.render_loadmore_button(i.current_thread),i.threads=t.discussion_data.threads,i.current_page=1)})},sort_by:function(e){return i.set_current_sorting(e)},find_comment:function(t,n=null){var r=".comment",a=null;return(o.is_number(t)||o.is_number(parseInt(t)))&&(isNaN(parseInt(t))||(r+="-"+parseInt(t))),i.has_thread(n)&&(r="."+(n=i.get_thread(n)).slug+"-thread "+r),o.is_string(t)&&!o.is_number(parseInt(t))&&(r="."+t),(t=e(r)).length&&(a=t),a},hide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e(`#${n} .comments-loadmore-container`).addClass("hidden")},unhide_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").removeClass("hidden")},remove_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .comments-loadmore-container").remove()},render_loadmore_button:function(t=null){var n=i.get_thread_identifier({thread:t});e("#"+n+" .thread-navigation").remove(),i.unhide_loadmore_button(t)},get_comments:function(n=i.get_current_thread(),r={},a=i.set_comments){o.is_string(n)&&i.has_thread(n)?n=i.get_thread(n):(o.is_array(n)||o.is_object(n))&&i.has_thread(n)&&(n=i.get_thread(n));const{post_id:s=i.id,page:c=n.current_page,sorting:_=i.current_sorting}=r;return e.ajax({url:t,data:{action:"get_comments",post_id:s,cthread:n.slug,cpage:c,csort:_,request_time:i.request_time},type:"GET",dataType:"json"}).done(function(e,t){a(e,t,n,r)}).fail(function(e,t){a(e,t,n,r)}),!1},set_comments:function(e,t=i.get_current_thread(),n={}){var r,a,s;i.has_thread(t)&&(s=(r=t).identifier),o.is_object(n)&&n.hasOwnProperty("page")&&o.is_number(n.page)&&(a=n.page),i.append_comments(e,"#"+s+" > .thread-comments"),i.set_current_page(a),i.current_page==r.page_count&&i.hide_loadmore_button(r.slug)},load_more_comments_handler:function(t){var n=e(t.currentTarget),r=i.current_page+1,a=n.data("thread-slug");n.attr("disabled",!0).addClass("loading"),i.get_comments(a,{page:r},function(e,t,r,a){if(e.hasOwnProperty("status")&&e.hasOwnProperty("comments")&&"success"===e.status){var o=e.comments,s=(e.current_page,e.page_count);r=r,i.set_thread_page_count(s),i.set_comments(o,r,a),n.attr("disabled",!1).removeClass("loading")}})},append_comments:function(t,n="."+i.current_thread+"-thread"){e(n).append(t)},switch_sortings_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("sorting-slug");i.set_current_sorting(n)},do_action:function(n={},r=function(){}){var a={method:"GET",data:{action:"do_action",post_id:i.id,caction:null,cid:0,cpage:i.current_page,cthread:i.current_thread,csort:i.current_sorting,request_time:i.request_time}},s=(n=o.extend(a,n),o.extend(a.data,n.data));e.ajax({url:t,data:s,type:n.method,dataType:"json"}).done(function(e,t){r(e,t,n)}).fail(function(e,t){r(e,t,n)})},post_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).attr("id"),r=o.get_form_data("#"+n),a="#"+n+" .notices-container",s={method:"POST",data:r};i.disable_comment_forms(),i.post_comment(s,function(t,n,o){t.hasOwnProperty("status")&&"success"==t.status?(t.hasOwnProperty("comment")&&e(".comments-area").prepend(e(t.comment).addClass("new-comment")),"reply"==r.caction&&i.reset_comment_form(),i.clear_comment_form()):t.hasOwnProperty("status")&&"error"==t.status&&i.set_notice(t.message,t.status,a),i.enable_comment_forms()})},post_comment:function(e={},t=function(){}){e=o.extend({method:"POST",data:{}},e),i.do_action(e,t)},like_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.like_comment(n,function(e,t,n){e.hasOwnProperty("status")&&e.status})},unlike_comment_handler:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.data("comment-id");n.addClass("loading"),n.find(".animated-heart").removeClass("activated"),n.addClass("like-action-link").removeClass("unlike-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("unlike-btn").addClass("like-btn"),a.trigger("commenter:unlike_comment"),i.decrement_like_count(r)},flag_comment:function(){},unflag_comment:function(){},like_comment:function(t,n=function(){}){t=o.is_number(t)?t:0;var r=i.find_comment(t,i.current_thread),s=".like-comment-"+t,c=e(r).find(s),_=e(s);Object.keys(_).forEach(function(t){var n=e(_[t]);n.addClass("loading"),n.children(".animated-heart").addClass("activated").on("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(t){e(this).removeClass("activated")}),n.addClass("unlike-action-link").removeClass("like-action-link").removeClass("loading"),n.parent(".heart-btn").removeClass("like-btn").addClass("unlike-btn"),a.trigger("commenter:like_comment")});var d={method:"GET",data:o.get_url_params(c.attr("href"))};i.increment_like_count(t),i.do_action(d,n)},unlike_comment:function(e,t=function(){}){},get_permalink:function(e){return!1},get_comment_form:function(t=i.current_thread){if(!o.is_string(t)||!i.has_thread(t))return!1;var n=i.get_thread(t).slug,r=i.id,a=e("#"+n+"-comment-form-container-"+r);return a.length?a:null},disable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.disable_comment_form(e)})},disable_comment_form:function(t=i.current_thread){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!0),n.find(".form-cancel-link").css("pointer-events","none"),n.find(".form-cancel-link").addClass("loading")},enable_comment_forms:function(){var e=i.get_threads();Object.keys(e).forEach(function(e){i.enable_comment_form(e)})},enable_comment_form:function(t=null){var n=e(i.get_comment_form(t));if(!n.length)return!1;n.find(":input").prop("disabled",!1),n.find(".form-cancel-link").css("pointer-events","auto"),n.find(".form-cancel-link").removeClass("loading")},clear_comment_form:function(t=!1){var n=e(i.get_comment_form());n.find(".commenter-comment-form-textarea").val(""),n.find(".notices-container").html(""),o.is_boolean(t)&&t&&(n.find("input.author").val(""),n.find("input.email").val(""),n.find("input.url").val(""),n.find(".toggle-checkbox").prop("checked")&&n.find(".toggle-checkbox").prop("checked",!1))},reset_comment_form:function(){var t=e(i.get_comment_form()),n=i.get_current_thread(),r="#"+i.current_thread+"-comment-form-"+i.id;o.set_form_data(r,{cid:0,caction:"comment"}),t.prependTo("#"+n.identifier),t.find(".citation .has-parent > a.parent-comment-link").attr("href","#no-parent"),t.find(".citation .has-parent > a.parent-comment-link").text(""),t.find(".citation .has-parent").addClass("hidden"),i.clear_comment_form()},set_reply_comment_form:function(t,n={}){var r=e(i.get_comment_form()),a=e(i.find_comment(t,i.current_thread)),s=a.find(".comment-body").eq(0),c=a.data("comment-data"),_=i.current_thread+"-"+c.identifier,d="#"+i.current_thread+"-comment-form-"+i.id;return!o.is_null(r)&&!o.is_null(a)&&(o.set_form_data(d,{cid:c.id,caction:"reply"}),r.find(".form-cancel-link").removeClass("hidden"),r.find(".citation .has-parent > a.parent-comment-link").attr("href","#"+_),r.find(".citation .has-parent > a.parent-comment-link").text(c.author),r.find(".citation .has-parent").removeClass("hidden"),r.insertAfter(s),void r.find(".commenter-comment-form-textarea").focus())},set_reply_form_handler:function(t){t.preventDefault();var n=e(t.currentTarget).data("comment-id");i.set_reply_comment_form(n)},reset_comment_form_handler:function(t){t.preventDefault(),e(t.currentTarget).addClass("hidden"),i.reset_comment_form()},get_comment_like_count:function(e){var t;return e=i.find_comment(e),o.is_null(e)?null:(t=parseInt(e.find(".like-count").eq(0).text(),10),!o.is_number(t)||isNaN(t)||o.is_null(t)?0:t)},set_comment_like_count:function(t,n){n=parseInt(n,10);var r=e(".like-comment-"+t);if(!o.is_object(r))return null;Object.keys(r).forEach(function(t){var a=e(r[t]).prev(".like-count");o.is_number(n)&&n>0?a.text(`${n}`):a.text("")})},increment_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n+=t),i.set_comment_like_count(e,n),n},decrement_like_count:function(e,t=1){var n=parseInt(i.get_comment_like_count(e),10);return t=parseInt(t,10),o.is_number(t)&&t>0&&(n-=t),i.set_comment_like_count(e,n),n},menu_handler:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.currentTarget).find(".menu");n.hasClass("open")?n.removeClass("open"):n.addClass("open")},set_loader:function(e,t){t?(a.hasClass("loading")&&a.addClass("loading"),a.fadeTo(.3,.6),a.find(".discussion-loading-container").removeClass("hidden")):(a.hasClass("loading")&&a.removeClass("loading"),a.fadeTo(.3,1),a.find(".discussion-loading-container").addClass("hidden"))},open_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")||t.addClass("open")},close_menus:function(e){var t=a.find(".mini-dropdown .menu");t.hasClass("open")&&t.removeClass("open")},set_notice:function(t,n="default",r=".discussion-notices",a={}){var i=e(r),s="";return!!i.length&&(o.html_present(t)||e(t).hasClass("commenter-notice")?s=t:(["error","success","default","warning"].includes(n)?(s+='<div class="commenter-notice ajax alert '+n+" alert-"+{error:"danger",success:"success",default:"default",warning:"warning"}[n]+'">',s+='<div class="commenter-notice-'+n+'">'+t+"</div>"):(s+='<div class="commenter-notice ajax alert error">',s+='<div class="commenter-notice-error">'+t+"</div>"),s+="</div>"),i.html(s).css("display","none").slideDown("fast"),!0)},init:function(){i.render_loadmore_button(),r.on("click",i.close_menus),a.on("click",".comments-loadmore:not(.loading)",i.load_more_comments_handler),a.on("click","a.like-action-link:not(.loading)",i.like_comment_handler),a.on("click","a.unlike-action-link:not(.loading)",i.unlike_comment_handler),a.on("click",".thread-tabs .tab > a.tab-link",i.switch_threads_handler),a.on("click",".discussion-sortings a.sorting-link",i.switch_sortings_handler),a.on("click",".comment-reply-link",i.set_reply_form_handler),a.on("click",".form-cancel-link:not(.loading)",i.reset_comment_form_handler),a.on("click",".mini-dropdown",i.menu_handler),a.on("submit",".comment-form",i.post_comment_handler),a.on("commenter:set_current_thread",i.change_current_thread),a.on("commenter:set_current_sorting",i.sort_discussion),a.on("commenter:is_loading",i.set_loader)}};r.ready(function(){o.init(),i.init()}),window.Commenter=i}(jQuery);